package org.opentestsystem.rdw.reporting.processor.stream;

import org.springframework.cloud.stream.annotation.Input;
import org.springframework.cloud.stream.annotation.Output;
import org.springframework.messaging.MessageChannel;
import org.springframework.messaging.SubscribableChannel;

import static org.opentestsystem.rdw.reporting.processor.stream.FetchStudentsSource.REPORT_FETCH_STUDENTS;

/**
 * This message processor receives a report generation request
 * and publishes multiple student chunk messages for processing.
 */
public interface FetchStudentsProcessor {

    String REPORT_GENERATE_FOR_STUDENTS = "REPORT_GENERATE_FOR_STUDENTS";

    @Input(REPORT_FETCH_STUDENTS)
    SubscribableChannel fetchStudentIds();

    @Output(REPORT_GENERATE_FOR_STUDENTS)
    MessageChannel generateStudentReport();

}
