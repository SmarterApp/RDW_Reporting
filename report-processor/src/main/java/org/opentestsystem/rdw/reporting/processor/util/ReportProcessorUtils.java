package org.opentestsystem.rdw.reporting.processor.util;

import org.opentestsystem.rdw.reporting.processor.model.ExamQueryParams;

import java.util.HashMap;
import java.util.Map;

/**
 * Utility methods for the report processor application.
 */
public class ReportProcessorUtils {
    /**
     * Retrieve the query parameters for an ExamQueryParams instance.
     *
     * @param examQueryParams The query parameters
     * @return The SQL query parameters
     */
    public static Map<String, Object> getExamFilterParameters(final ExamQueryParams examQueryParams) {
        final Map<String, Object> params = new HashMap<>();
        params.put("subject_id", examQueryParams.getSubject() == null ? null : examQueryParams.getSubject().id());
        params.put("assessment_type", examQueryParams.getAssessmentType() == null ? null : examQueryParams.getAssessmentType().id());
        params.put("school_id", examQueryParams.getSchoolId());
        params.put("grade_id", examQueryParams.getGradeId());
        params.put("group_id", examQueryParams.getGroupId());
        params.put("school_year", examQueryParams.getSchoolYear());
        params.put("student_id", examQueryParams.getStudentId());
        params.put("disable_transfer_access", examQueryParams.isDisableTransferAccess());
        return params;
    }
}
