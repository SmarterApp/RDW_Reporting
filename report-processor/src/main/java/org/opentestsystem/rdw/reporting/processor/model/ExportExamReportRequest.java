package org.opentestsystem.rdw.reporting.processor.model;

import com.google.common.collect.ImmutableSet;

import java.util.Set;

public class ExportExamReportRequest extends AbstractExamReportRequest<PrintOptions> {

    private Set<Long> schoolIds;
    private Set<Long> schoolGroupIds;
    private Set<Long> districtIds;
    private Set<Long> districtGroupIds;

    public Set<Long> getSchoolIds() {
        return schoolIds;
    }

    public Set<Long> getSchoolGroupIds() {
        return schoolGroupIds;
    }

    public Set<Long> getDistrictIds() {
        return districtIds;
    }

    public Set<Long> getDistrictGroupIds() {
        return districtGroupIds;
    }

    @Override
    public ReportType getReportType() {
        return ReportType.ExamExport;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder extends AbstractExamReportRequest.Builder<PrintOptions, ExportExamReportRequest, ExportExamReportRequest.Builder> {
        private Set<Long> schoolIds;
        private Set<Long> schoolGroupIds;
        private Set<Long> districtIds;
        private Set<Long> districtGroupIds;

        public Builder schoolIds(final Set<Long> schoolIds) {
            this.schoolIds = ImmutableSet.copyOf(schoolIds);
            return this;
        }

        public Builder schoolGroupIds(final Set<Long> schoolGroupIds) {
            this.schoolGroupIds = ImmutableSet.copyOf(schoolGroupIds);
            return this;
        }

        public Builder districtIds(final Set<Long> districtIds) {
            this.districtIds = ImmutableSet.copyOf(districtIds);
            return this;
        }

        public Builder districtGroupIds(final Set<Long> districtGroupIds) {
            this.districtGroupIds = ImmutableSet.copyOf(districtGroupIds);
            return this;
        }

        public ExportExamReportRequest build() {
            final ExportExamReportRequest request = super.build(new ExportExamReportRequest());

            request.schoolIds = schoolIds;
            request.schoolGroupIds = schoolGroupIds;
            request.districtIds = districtIds;
            request.districtGroupIds = districtGroupIds;

            return request;
        }
    }
}
