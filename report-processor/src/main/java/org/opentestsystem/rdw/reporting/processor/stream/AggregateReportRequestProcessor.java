package org.opentestsystem.rdw.reporting.processor.stream;

import org.springframework.cloud.stream.annotation.Input;
import org.springframework.cloud.stream.annotation.Output;
import org.springframework.messaging.MessageChannel;

/**
 * This processor accepts local aggregate report requests and submits requests to an external service
 * for processing.
 * Once complete, the external service publishes responses to the aggregate response channel.
 */
public interface AggregateReportRequestProcessor {

    String AggregateRequest = "AggregateRequest";
    String AggregateResponse = "AggregateResponse";
    String AggregateReportsOut = "ReportAggregateReportsOut";
    String AggregateReportsIn = "ReportAggregateReportsIn";

    /**
     * @return Internal processing output channel
     */
    @Output(AggregateReportsOut)
    MessageChannel aggregateReportsOut();

    /**
     * @return Internal processing input channel
     */
    @Input(AggregateReportsIn)
    MessageChannel aggregateReportsIn();

    /**
     * @return External processing submission channel
     */
    @Output(AggregateRequest)
    MessageChannel aggregateRequest();

    /**
     * @return External processing results channel
     */
    @Input(AggregateResponse)
    MessageChannel aggregateResponse();
}
