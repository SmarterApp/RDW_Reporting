package org.opentestsystem.rdw.reporting.processor.model;

import org.opentestsystem.rdw.reporting.common.security.PermissionScope;

/**
 * This message represents a basic report processing message.
 */
public class ReportRequestMessage {

    protected long reportId;
    protected PermissionScope permissionScope;

    /**
     * @return The report id
     */
    public long getReportId() {
        return reportId;
    }

    /**
     * @return The report permission scope
     */
    public PermissionScope getPermissionScope() {
        return permissionScope;
    }

    /**
     * @return A new instance builder
     */
    public static BaseBuilder builder() {
        return new Builder();
    }

    public static class Builder extends BaseBuilder<ReportRequestMessage, Builder> {

        @Override
        protected ReportRequestMessage createInstance() {
            return new ReportRequestMessage();
        }
    }

    public abstract static class BaseBuilder<A extends ReportRequestMessage, B extends ReportRequestMessage.BaseBuilder<A, B>> {

        private long reportId;
        private PermissionScope permissionScope;

        protected abstract A createInstance();

        public A build() {
            final A message = createInstance();
            message.reportId = reportId;
            message.permissionScope = permissionScope;
            return message;
        }

        public B reportId(final long reportId) {
            this.reportId = reportId;
            return (B) this;
        }

        public B permissionScope(final PermissionScope permissionScope) {
            this.permissionScope = permissionScope;
            return (B) this;
        }

    }
}
