package org.opentestsystem.rdw.reporting.processor.model;

import org.opentestsystem.rdw.reporting.common.report.UserPermissions;

/**
 * This message represents a basic report processing message.
 */
public class ReportRequestMessage {

    protected long reportId;
    protected UserPermissions userPermissions;

    /**
     * @return The report id
     */
    public long getReportId() {
        return reportId;
    }

    /**
     * @return The user's permissions
     */
    public UserPermissions getUserPermissions() {
        return userPermissions;
    }

    /**
     * @return A new instance builder
     */
    public static BaseBuilder builder() {
        return new Builder();
    }

    public static class Builder extends BaseBuilder<ReportRequestMessage, Builder> {

        @Override
        protected ReportRequestMessage createInstance() {
            return new ReportRequestMessage();
        }
    }

    public abstract static class BaseBuilder<A extends ReportRequestMessage, B extends ReportRequestMessage.BaseBuilder<A, B>> {

        private long reportId;
        private UserPermissions userPermissions;

        protected abstract A createInstance();

        public A build() {
            final A message = createInstance();
            message.reportId = reportId;
            message.userPermissions = userPermissions;
            return message;
        }

        public B reportId(final long reportId) {
            this.reportId = reportId;
            return (B) this;
        }

        public B userPermissions(final UserPermissions userPermissions) {
            this.userPermissions = userPermissions;
            return (B) this;
        }

    }
}
