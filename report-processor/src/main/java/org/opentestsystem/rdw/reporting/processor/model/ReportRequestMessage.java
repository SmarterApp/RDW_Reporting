package org.opentestsystem.rdw.reporting.processor.model;

import org.opentestsystem.rdw.reporting.common.web.security.User;

/**
 * This message represents a basic report processing message.
 */
public class ReportRequestMessage {

    protected long reportId;
    protected User user;

    /**
     * @return The report id
     */
    public long getReportId() {
        return reportId;
    }

    /**
     * @return The requesting user
     */
    public User getUser() {
        return user;
    }

    /**
     * @return A new instance builder
     */
    public static BaseBuilder builder() {
        return new Builder();
    }

    public static class Builder extends BaseBuilder<ReportRequestMessage, Builder> {

        @Override
        protected ReportRequestMessage createInstance() {
            return new ReportRequestMessage();
        }
    }

    public abstract static class BaseBuilder<A extends ReportRequestMessage, B extends ReportRequestMessage.BaseBuilder<A, B>> {

        private long reportId;
        private User user;

        protected abstract A createInstance();

        public A build() {
            final A message = createInstance();
            message.reportId = reportId;
            message.user = user;
            return message;
        }

        public B reportId(final long reportId) {
            this.reportId = reportId;
            return (B) this;
        }

        public B user(final User user) {
            this.user = user;
            return (B) this;
        }

    }
}
