package org.opentestsystem.rdw.reporting.processor.repository;

import org.opentestsystem.rdw.reporting.processor.model.ExportExamReportRequest;
import org.opentestsystem.rdw.reporting.processor.model.FileDetail;
import org.opentestsystem.rdw.security.PermissionScope;

import javax.validation.constraints.NotNull;

public interface ExamRepository {

    /**
     * Execute the exam report, writing the results to the requested (relative) location
     * and returning the actual (relative) location (may be different due to behavior of
     * repository wrt archive service).
     *
     * @param permissionScope permissions to apply during exam report
     * @param query exam report query params
     * @param uriLocation requested (relative) location, e.g. REPORTS/USER/123/MyReport.csv
     * @return file details {@link FileDetail)
     */
    FileDetail export(@NotNull PermissionScope permissionScope, @NotNull ExportExamReportRequest query, @NotNull String uriLocation);
}
