package org.opentestsystem.rdw.reporting.processor.service;

import org.opentestsystem.rdw.reporting.common.model.Report;
import org.opentestsystem.rdw.reporting.processor.web.ReportContentResource;

import java.io.InputStream;

/**
 * Implementations of this interface are responsible for persisting and
 * reading {@link Report} content bytes.
 */
public interface ReportContentService {

    /**
     * Write report contents into persistent storage.
     * Update the report with content location URI.
     *
     * @param report        The report
     * @param content       The report contents
     * @param contentLength The report content length in bytes
     * @return The Report with persisted content location URI.
     */
    Report writeContent(Report report, InputStream content, long contentLength);

    /**
     * Read report contents from persistent storage.
     *
     * @param report    The report
     * @return The report contents
     */
    ReportContentResource openContent(Report report);
}
