package org.opentestsystem.rdw.reporting.processor.model;

import org.junit.Test;
import org.opentestsystem.rdw.reporting.common.model.UserGroupId;

import static org.assertj.core.api.Assertions.assertThat;

public class GroupExamReportRequestTest extends AbstractBatchExamReportRequestTest<PrintOptions, GroupExamReportRequest, GroupExamReportRequest.Builder> {

    @Override
    public PrintOptions createOptions() {
        return new PrintOptions(false);
    }

    @Override
    public GroupExamReportRequest createRequest() {
        return new GroupExamReportRequest();
    }

    @Override
    public ReportType getReportType() {
        return ReportType.Group;
    }

    @Override
    public GroupExamReportRequest.Builder createBuilder() {
        return GroupExamReportRequest.builder();
    }

    @Test
    public void itShouldStoreGroupGrant() {
        final long groupId = 123L;
        final GroupExamReportRequest request = createBuilder()
                .groupId(new UserGroupId(groupId, null))
                .build();

        assertThat(request.getGroupId().getId()).isEqualTo(groupId);
        assertThat(request.getGroupId().getType()).isEqualTo(1);
    }
}