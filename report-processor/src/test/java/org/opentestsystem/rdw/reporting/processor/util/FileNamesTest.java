package org.opentestsystem.rdw.reporting.processor.util;

import org.junit.Test;
import org.springframework.http.MediaType;

import static org.assertj.core.api.Assertions.assertThat;
import static org.opentestsystem.rdw.reporting.processor.util.FileNames.format;

public class FileNamesTest {

    private static final String Expected = "a_b.pdf";

    @Test()
    public void formatShouldReplaceSpacesWithUnderscores() {
        assertThat(format("a b", MediaType.APPLICATION_PDF)).isEqualTo(Expected);
        assertThat(format("a  b", MediaType.APPLICATION_PDF)).isEqualTo(Expected);
    }

    @Test()
    public void formatShouldTrimBeforeReplacingSpaces() {
        assertThat(format(" a b ", MediaType.APPLICATION_PDF)).isEqualTo(Expected);
    }

    @Test()
    public void formatShouldRemoveInvalidCharacters() {
        assertThat(format("<>:;,?%*|\"a b", MediaType.APPLICATION_PDF)).isEqualTo(Expected);
    }

    @Test()
    public void formatShouldAppendAFileExtension() {
        assertThat(format("a_b", MediaType.APPLICATION_PDF)).isEqualTo(Expected);
    }

}
