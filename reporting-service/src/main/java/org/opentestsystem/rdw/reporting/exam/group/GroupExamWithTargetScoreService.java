package org.opentestsystem.rdw.reporting.exam.group;

import org.opentestsystem.rdw.reporting.common.model.Target;
import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.springframework.security.access.prepost.PreAuthorize;

import javax.validation.constraints.NotNull;
import java.util.List;

@PreAuthorize("hasAuthority('PERM_GROUP_PII_READ')")
interface GroupExamWithTargetScoreService {
    /**
     * Gets all {@link ExamWithTargetScore} grouped by {@link Target} for the given {@link GroupExamSearch}
     *
     * @param user   the user accessing the group information
     * @param search the search parameters to limit the results by
     * @return all {@link ExamWithTargetScore} grouped by {@link Target}; includes all {@link Target}s for
     * the given {@link GroupExamSearch#assessmentId} regardless of the presents of the target's scores.
     */
    List<ExamWithTargetScore> getExams(@NotNull User user, @NotNull GroupExamSearch search);
}