package org.opentestsystem.rdw.reporting.group;

import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.springframework.security.access.prepost.PreAuthorize;

import javax.validation.constraints.NotNull;
import java.util.List;
import java.util.Optional;

/**
 * Service responsible for managing teacher created groups
 */
@PreAuthorize("@teacherCreatedGroupAuthorizationService.isAuthorized(#user)")
public interface TeacherGroupService {

    /**
     * Gets all groups the given user created
     *
     * @param user the user who created the groups
     * @return all groups the given user created
     */
    List<Group> getGroups(@NotNull User user);

    /**
     * Gets the group for the given user and group ID
     *
     * @param user the user who created the groups
     * @param groupId the group entity ID
     * @return the group for the given user and group ID
     */
    Optional<TeacherGroup> getGroup(@NotNull User user, long groupId);

    /**
     * Saves the given user created group
     *
     * @param user the user creating the group
     * @param group the group to save
     * @return the saved group with the assigned entity ID
     */
    TeacherGroup saveGroup(@NotNull User user, @NotNull TeacherGroup group);

    /**
     * Deletes group for the given user and group ID
     *
     * @param user the user to delete the group for
     * @param groupId the ID of the group to delete
     */
    void deleteGroup(@NotNull User user, long groupId);

}
