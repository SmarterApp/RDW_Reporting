package org.opentestsystem.rdw.reporting.student;

import com.google.common.collect.ImmutableSet;

import java.util.Set;

public class StudentSearch {

    private Long groupId;
    private Long schoolId;
    private Set<Long> studentIds;

    private StudentSearch(){}

    /**
     * @return the group ID used to filter student search results
     */
    public Long getGroupId() {
        return groupId;
    }

    /**
     * @return the school ID used to filter student search results
     */
    public Long getSchoolId() {
        return schoolId;
    }

    /**
     * @return the student IDs used to filter student search results
     */
    public Set<Long> getStudentIds() {
        return studentIds;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder {

        private Long groupId;
        private Long schoolId;
        private Iterable<Long> studentIds;

        public Builder groupId(final Long groupId) {
            this.groupId = groupId;
            return this;
        }

        public Builder schoolId(final Long schoolId) {
            this.schoolId = schoolId;
            return this;
        }

        public Builder studentIds(final Iterable<Long> studentIds) {
            this.studentIds = studentIds;
            return this;
        }

        public StudentSearch build() {
            final StudentSearch search = new StudentSearch();
            search.groupId = groupId;
            search.schoolId = schoolId;
            search.studentIds = studentIds != null ? ImmutableSet.copyOf(studentIds) : null;
            return search;
        }

    }

}
