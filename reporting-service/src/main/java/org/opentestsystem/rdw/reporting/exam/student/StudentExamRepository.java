package org.opentestsystem.rdw.reporting.exam.student;

import org.opentestsystem.rdw.reporting.common.model.Student;
import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.opentestsystem.rdw.security.Permission;

import javax.validation.constraints.NotNull;
import java.util.List;
import java.util.Map;
import java.util.Set;

interface StudentExamRepository {

    List<StudentHistoryExamWrapper> findAllForStudent(@NotNull User user, long studentId);

    /**
     * Find all of the exams with associated assessments and schools for the given user.
     *
     * @param permissions The authenticated user's permissions
     * @param groupIds    The group ids a user has access to
     * @param studentId   The student SSID  @return  The student's exam history
     */
    List<StudentHistoryExamWrapper> findAllForStudent(@NotNull Map<String, Permission> permissions, Set<Long> groupIds, long studentId);

    /**
     * Return the student if at least one exam exists.
     *
     * @param permissions The authenticated user's permissions
     * @param groupIds    The group ids a user has access to
     * @param ssid        The student SSID  @return The student
     */
    Student findStudentWithExams(@NotNull Map<String, Permission> permissions, Set<Long> groupIds, String ssid);
}
