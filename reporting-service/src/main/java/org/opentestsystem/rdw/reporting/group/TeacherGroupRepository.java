package org.opentestsystem.rdw.reporting.group;

import org.opentestsystem.rdw.reporting.common.security.PermissionSource;

import javax.validation.constraints.NotNull;
import java.util.List;

/**
 * Repository responsible for managing teacher created groups
 */
public interface TeacherGroupRepository {

    /**
     * Gets all groups created by the given permission source
     *
     * @param permissionSource the user ID and permissions
     * @return all groups created by the given permission source
     */
    List<Group> findAll(@NotNull PermissionSource permissionSource);

    /**
     * Gets the group for the given ID and permission source
     *
     * @param permissionSource the user ID and permissions
     * @param groupId the entity ID of the group to lookup
     * @return the group for the given ID and permission source
     */
    TeacherGroup findOne(@NotNull PermissionSource permissionSource, long groupId);

    /**
     * Creates the provided group for the given user
     *
     * @param username the name of the user to store the report under
     * @param group the group to create or update
     * @return the group
     */
    TeacherGroup create(@NotNull final String username, @NotNull TeacherGroup group);

    /**
     * Updates the provided group for the given user
     *
     * @param group the group to create or update
     */
    void update(@NotNull TeacherGroup group);


    /**
     * Deletes a group for the given user and group ID
     *
     * @param groupId the entity ID of the group to delete
     */
    void delete(long groupId);

}
