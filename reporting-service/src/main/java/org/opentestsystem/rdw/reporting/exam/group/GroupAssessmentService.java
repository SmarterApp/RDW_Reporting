package org.opentestsystem.rdw.reporting.exam.group;

import org.opentestsystem.rdw.reporting.common.model.MeasuredAssessment;
import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.opentestsystem.rdw.reporting.exam.AssessmentService;
import org.springframework.security.access.prepost.PreAuthorize;

import javax.validation.constraints.NotNull;
import java.util.List;

@PreAuthorize("hasAuthority('PERM_GROUP_PII_READ')")
interface GroupAssessmentService extends AssessmentService<GroupAssessmentSearch> {

    /**
     * Gets all measured assessments taken by a group and assessment grade for a given school year.
     * This can be a list containing IAB assessments
     *
     * @param user   the user accessing the group information
     * @param search the search parameters to limit the results by
     * @return all IAB measured assessments taken by the given group for the given school year
     */
    List<MeasuredAssessment> getAllMeasuredAssessments(@NotNull User user, @NotNull GroupAssessmentSearch search);
}
