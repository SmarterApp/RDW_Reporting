package org.opentestsystem.rdw.olap.sqlbuilder;

import org.opentestsystem.rdw.olap.model.AggregateReportQuery;

import java.util.List;

/**
 * Implementation of this interface is responsible for converting a {@link AggregateReportQuery} into one or multiple
 * instances of {@link ReportContext} subclasses
 */
public interface QueryProvider<T extends ReportContext> {
    /**
     * Converts a given {@link AggregateReportQuery} to one or multiple instances of {@link ReportContext} subclasses
     * <p>
     * {@link AggregateReportQuery} may include different types of organizations and dimensions.
     * Each pair of organization/dimension is represented by a separate instance of {@link ReportContext}
     *
     * @param query {@link AggregateReportQuery}
     * @return a list of {@link ReportContext} instances
     */
    List<T> toQuery(AggregateReportQuery query);
}