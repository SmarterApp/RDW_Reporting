package org.opentestsystem.rdw.olap.repository;

import org.opentestsystem.rdw.olap.model.ReportQuery;
import org.opentestsystem.rdw.olap.model.ReportRow;

import java.util.List;

/**
 * Repository responsible for the custom aggregate report
 */
public interface CustomAggregateReportRepository {
    /**
     * Creates a custom aggregate report for the given {@link ReportQuery}
     *
     * @param query the {@link ReportQuery} for the report
     * @return a list of {@link ReportRow}s
     */
    List<ReportRow> findByQuery(ReportQuery query);

    /**
     * Estimates number of the rows in a custom aggregate report for the given {@link ReportQuery}
     *
     * @param query the {@link ReportQuery} for the report
     * @return an estimated number of rows
     */
    int estimateReportRowCount(ReportQuery query);
}