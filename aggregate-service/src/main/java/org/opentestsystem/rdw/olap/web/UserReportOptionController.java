package org.opentestsystem.rdw.olap.web;

import com.google.common.collect.ImmutableSet;
import org.opentestsystem.rdw.olap.model.CodedEntity;
import org.opentestsystem.rdw.olap.model.ReportOptions;
import org.opentestsystem.rdw.olap.service.UserReportOptionService;
import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.springframework.security.core.annotation.AuthenticationPrincipal;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/reportOptions")
class UserReportOptionController {

    private final UserReportOptionService service;

    UserReportOptionController(final UserReportOptionService service) {
        this.service = service;
    }

    @GetMapping
    public ReportOptions get(@AuthenticationPrincipal final User user) {
//        return service.getReportOptions(user);

        // TODO remove stub
        return ReportOptions.builder()
                .assessmentGrades(ImmutableSet.of(
                        CodedEntity.builder().id(3).code("03").build(),
                        CodedEntity.builder().id(4).code("04").build(),
                        CodedEntity.builder().id(5).code("05").build(),
                        CodedEntity.builder().id(6).code("06").build(),
                        CodedEntity.builder().id(7).code("07").build(),
                        CodedEntity.builder().id(8).code("08").build(),
                        CodedEntity.builder().id(11).code("11").build()
                ))
                .assessmentTypes(ImmutableSet.of(
                        CodedEntity.builder().id(1).code("ica").build(),
                        CodedEntity.builder().id(2).code("iab").build(),
                        CodedEntity.builder().id(3).code("sum").build()
                ))
                .ethnicities(ImmutableSet.of(
                        CodedEntity.builder().id(1).code("HispanicOrLatinoEthnicity").build(),
                        CodedEntity.builder().id(2).code("AmericanIndianOrAlaskaNative").build(),
                        CodedEntity.builder().id(3).code("Asian").build(),
                        CodedEntity.builder().id(4).code("BlackOrAfricanAmerican").build(),
                        CodedEntity.builder().id(5).code("White").build(),
                        CodedEntity.builder().id(6).code("NativeHawaiianOrOtherPacificIslander").build(),
                        CodedEntity.builder().id(7).code("DemographicRaceTwoOrMoreRaces").build(),
                        CodedEntity.builder().id(8).code("Filipino").build()
                ))
                .genders(ImmutableSet.of(
                        CodedEntity.builder().id(1).code("Male").build(),
                        CodedEntity.builder().id(2).code("Female").build()
                ))
                .schoolYears(ImmutableSet.of(
                        2017,
                        2016,
                        2015,
                        2014
                ))
                .subjects(ImmutableSet.of(
                        CodedEntity.builder().id(1).code("Math").build(),
                        CodedEntity.builder().id(2).code("ELA").build()
                ))
                .build();
    }

}
