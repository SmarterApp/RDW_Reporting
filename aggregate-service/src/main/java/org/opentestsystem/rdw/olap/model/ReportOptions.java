package org.opentestsystem.rdw.olap.model;

import com.google.common.collect.ImmutableSet;
import org.opentestsystem.rdw.reporting.common.model.DimensionType;

import java.util.Set;

public class ReportOptions {

    private Set<CodedEntity> assessmentGrades;
    private Set<CodedEntity> assessmentTypes;
    private Set<DimensionType> dimensionTypes;
    private Set<CodedEntity> ethnicities;
    private Set<CodedEntity> genders;
    private Set<Integer> schoolYears;
    private Set<CodedEntity> subjects;

    public static Builder builder() {
        return new Builder();
    }

    public Set<CodedEntity> getAssessmentGrades() {
        return assessmentGrades;
    }

    public Set<CodedEntity> getAssessmentTypes() {
        return assessmentTypes;
    }

    public Set<DimensionType> getDimensionTypes() {
        return dimensionTypes;
    }

    public Set<CodedEntity> getEthnicities() {
        return ethnicities;
    }

    public Set<CodedEntity> getGenders() {
        return genders;
    }

    public Set<Integer> getSchoolYears() {
        return schoolYears;
    }

    public Set<CodedEntity> getSubjects() {
        return subjects;
    }

    public static class Builder {

        private Set<CodedEntity> assessmentGrades;
        private Set<CodedEntity> assessmentTypes;
        private Set<DimensionType> dimensionTypes;
        private Set<CodedEntity> ethnicities;
        private Set<CodedEntity> genders;
        private Set<Integer> schoolYears;
        private Set<CodedEntity> subjects;


        public Builder assessmentGrades(final Set<CodedEntity> assessmentGrades) {
            this.assessmentGrades = assessmentGrades;
            return this;
        }

        public Builder assessmentTypes(final Set<CodedEntity> assessmentTypes) {
            this.assessmentTypes = assessmentTypes;
            return this;
        }

        public Builder dimensionTypes(final Set<DimensionType> dimensionTypes) {
            this.dimensionTypes = dimensionTypes;
            return this;
        }

        public Builder ethnicities(final Set<CodedEntity> ethnicities) {
            this.ethnicities = ethnicities;
            return this;
        }

        public Builder genders(final Set<CodedEntity> genders) {
            this.genders = genders;
            return this;
        }

        public Builder schoolYears(final Set<Integer> schoolYears) {
            this.schoolYears = schoolYears;
            return this;
        }

        public Builder subjects(final Set<CodedEntity> subjects) {
            this.subjects = subjects;
            return this;
        }

        public ReportOptions build() {
            final ReportOptions options = new ReportOptions();
            options.assessmentGrades = assessmentGrades != null ? ImmutableSet.copyOf(assessmentGrades) : ImmutableSet.of();
            options.assessmentTypes = assessmentTypes != null ? ImmutableSet.copyOf(assessmentTypes) : ImmutableSet.of();
            options.dimensionTypes = dimensionTypes != null ? ImmutableSet.copyOf(dimensionTypes) : ImmutableSet.of();
            options.ethnicities = ethnicities != null ? ImmutableSet.copyOf(ethnicities) : ImmutableSet.of();
            options.genders = genders != null ? ImmutableSet.copyOf(genders) : ImmutableSet.of();
            options.schoolYears = schoolYears != null ? ImmutableSet.copyOf(schoolYears) : ImmutableSet.of();
            options.subjects = subjects != null ? ImmutableSet.copyOf(subjects) : ImmutableSet.of();
            return options;
        }

        public Builder copy(final ReportOptions options) {
            this.assessmentGrades = options.assessmentGrades;
            this.assessmentTypes = options.assessmentTypes;
            this.dimensionTypes = options.dimensionTypes;
            this.ethnicities = options.ethnicities;
            this.genders = options.genders;
            this.schoolYears = options.schoolYears;
            this.subjects = options.subjects;
            return this;
        }
    }

}
