package org.opentestsystem.rdw.olap.model;

import org.opentestsystem.rdw.reporting.common.model.CodedEntity;

/**
 * Represents a `scorable` entity (per subject and assessment type).
 * Claims and AltScores are ScorableEntity's.
 */
public class ScorableEntity extends CodedEntity {
    private String subjectCode;
    private String assessmentTypeCode;

    public String getAssessmentTypeCode() {
        return assessmentTypeCode;
    }

    public String getSubjectCode() {
        return subjectCode;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder<A extends ScorableEntity, B extends Builder<A,B>> extends CodedEntity.Builder<A, B> {
        private String subjectCode;
        private String assessmentTypeCode;

        public B subjectCode(final String subjectCode) {
            this.subjectCode = subjectCode;
            return (B) this;
        }

        public B assessmentTypeCode(final String assessmentTypeCode) {
            this.assessmentTypeCode = assessmentTypeCode;
            return (B) this;
        }

        protected A build(final ScorableEntity entity) {
            super.build(entity);
            entity.subjectCode = subjectCode;
            entity.assessmentTypeCode = assessmentTypeCode;
            return (A) entity;
        }

        public A build() {
            return build(new ScorableEntity());
        }
    }
}