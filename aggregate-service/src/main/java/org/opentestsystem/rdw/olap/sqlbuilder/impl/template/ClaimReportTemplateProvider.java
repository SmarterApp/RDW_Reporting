package org.opentestsystem.rdw.olap.sqlbuilder.impl.template;

import org.opentestsystem.rdw.olap.model.ClaimOrganizationQuery;
import org.opentestsystem.rdw.olap.model.ReportTemplate;
import org.opentestsystem.rdw.olap.model.ReportTemplate.Builder;
import org.opentestsystem.rdw.olap.sqlbuilder.impl.QueryProviderRepositoryHelper;
import org.opentestsystem.rdw.reporting.common.model.Organization;


/**
 * This implementation is responsible for converting an instance of an {@link ClaimOrganizationQuery} into a {@link ReportTemplate}
 */
@SuppressWarnings("unchecked")
public class ClaimReportTemplateProvider extends SimpleReportTemplateProvider<Builder, ReportTemplate, ClaimOrganizationQuery> {

    public ClaimReportTemplateProvider(final Organization state,
                                       final QueryProviderRepositoryHelper repositoryHelper) {
        super(state, repositoryHelper);
    }

    @Override
    public Builder createBuilderWithCommonAttributes(final ClaimOrganizationQuery query) {
        return super.createBuilderWithCommonAttributes(query)
                .claimCodesBySubject(query.getClaimCodesBySubject());
    }
}