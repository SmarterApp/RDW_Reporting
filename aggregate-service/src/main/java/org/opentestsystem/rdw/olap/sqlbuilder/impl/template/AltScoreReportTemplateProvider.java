package org.opentestsystem.rdw.olap.sqlbuilder.impl.template;

import org.opentestsystem.rdw.olap.model.AltScoreOrganizationQuery;
import org.opentestsystem.rdw.olap.model.ReportTemplate;
import org.opentestsystem.rdw.olap.model.ReportTemplate.Builder;
import org.opentestsystem.rdw.olap.sqlbuilder.impl.QueryProviderRepositoryHelper;
import org.opentestsystem.rdw.reporting.common.model.Organization;

/**
 * This implementation is responsible for converting an instance of an {@link AltScoreOrganizationQuery} into a {@link ReportTemplate}
 */
@SuppressWarnings("unchecked")
public class AltScoreReportTemplateProvider extends SimpleReportTemplateProvider<Builder, ReportTemplate, AltScoreOrganizationQuery> {

    public AltScoreReportTemplateProvider(final Organization state,
                                          final QueryProviderRepositoryHelper repositoryHelper) {
        super(state, repositoryHelper);
    }

    @Override
    public Builder createBuilderWithCommonAttributes(final AltScoreOrganizationQuery query) {
        return super.createBuilderWithCommonAttributes(query)
                .altScoreCodesBySubject(query.getAltScoreCodesBySubject());
    }
}