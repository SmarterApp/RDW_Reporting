package org.opentestsystem.rdw.olap.service;

import org.opentestsystem.rdw.olap.model.AggregateReportResult;
import org.opentestsystem.rdw.reporting.common.model.AggregateQuery;
import org.opentestsystem.rdw.reporting.common.web.security.User;

/**
 * Implementations of this interface are responsible for accepting
 * and handling AggregateQuery implementations.
 *
 * @param <T> The aggregate report content type
 */
public interface AggregateQueryHandler<T> {

    /**
     * @param query A query
     * @return True if this handler can process the given query
     */
    boolean handles(AggregateQuery query);

    /**
     * Produce a report for the given query.
     *
     * @param query A query
     * @return An aggregate report result
     */
    AggregateReportResult<T> findByQuery(User user, AggregateQuery query);
}
