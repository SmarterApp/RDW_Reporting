package org.opentestsystem.rdw.admin.multitenant.configprops;

import org.opentestsystem.rdw.multitenant.configprops.ConfigpropsProcessor;
import org.opentestsystem.rdw.multitenant.configprops.ConfigpropsUpdateMessage;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.cloud.stream.annotation.StreamListener;


public class ConfigpropsUpdateSubscriber {
    private static final Logger logger = LoggerFactory.getLogger(ConfigpropsUpdateSubscriber.class);

    @StreamListener(target = ConfigpropsProcessor.CONFIGPROPS_UPDATE_INPUT)
    public void createTenantAsync(final ConfigpropsUpdateMessage configpropsUpdateMessage) {
        //TODO: remove me - log error for POC
        logger.error("configpropsUpdateMessage service: {} configprops: {}",
                configpropsUpdateMessage.getServiceName(),
                configpropsUpdateMessage.getConfigprops());
    }

}
