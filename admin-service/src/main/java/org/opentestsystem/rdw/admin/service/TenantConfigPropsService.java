package org.opentestsystem.rdw.admin.service;

import org.opentestsystem.rdw.admin.model.ApplicationSandboxConfiguration;
import org.opentestsystem.rdw.admin.model.ApplicationTenantConfiguration;
import org.opentestsystem.rdw.admin.model.TenantConfiguration;

public interface TenantConfigPropsService {
    /**
     * @return ApplicationTenantConfiguration the Default properties for the tenant Instance
     */
    TenantConfiguration getDefaultApplicationTenantConfiguration();

    /**
     * @return ApplicationSandboxConfiguration the Default properties sandbox centric for the tenant Instance
     */
    //TODO: merge with getDefaultApplicationTenantConfiguration
    TenantConfiguration getDefaultApplicationSandboxConfiguration(String parentKey);

    /**
     * @param key for the tenant specific properties to look up
     * @return ApplicationTenantConfiguration for the given tenantKey
     */
    TenantConfiguration getTenantAppConfiguration(String key);

    /**
     * @param prefix to search for
     * @return true if the given prefix is found the existing tenants
     */
    //TODO: move this to out of here, it is too  high level
    boolean archivePrefixExists(String prefix);

    /**
     * @param dataSource         the dataSource to search through, i.e. "reporting_ro"
     * @param dataSourceDatabase the database to search for in existing DBs and Auruoa
     * @return true if the database was found in the existing tenants dataSource
     */
    //TODO: move this to out of here, it is too  high level
    boolean dataSourceExists(String dataSource, String dataSourceDatabase);

    /**
     * @param dataSourceDatabase same database name as default
     * @param userName           different username than the default (or any other olap dataSource or in Redshift)
     * @return true if the olap DataSource cannot be created with these settings, false means ok to create
     */
    //TODO: move this to out of here, it is too  high level
    boolean dataSourceOlapExists(String dataSourceDatabase, String userName);

    /**
     * TODO: get rid of this, it looks like it is some sort of cache?
     */
    public void servicesPropertiesRefresh();
}
