package org.opentestsystem.rdw.admin.support;

import com.google.common.base.Splitter;

import java.util.List;

import static com.google.common.collect.Lists.newArrayList;

/**
 * Additional support methods for dealing with strings
 */
public final class Strings {

    private Strings() {}

    /**
     * Normalizes line endings into "\n"
     *
     * @param value The input to normalize
     * @return The value with normalized line endings
     */
    public static String normalizeLineEndings(final String value) {
        return normalizeLineEndings(value, "\n");
    }

    /**
     * Normalizes line endings for the given input into the given string
     *
     * @param value The input to normalize
     * @param to What to normalize the line endings to
     * @return The value with normalized line endings
     */
    public static String normalizeLineEndings(final String value, final String to) {
        return value.replaceAll("\\r\\n?", to);
    }

    /**
     * Splits the provided value into a list of its lines
     *
     * @param value The value to split
     * @return The lines of the given string
     */
    public static List<String> getLines(final String value) {
        final String on = "\n";
        return newArrayList(
                Splitter.on(on)
                        .split(normalizeLineEndings(value, on))
        );
    }

}
