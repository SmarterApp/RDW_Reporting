package org.opentestsystem.rdw.admin.service;

import org.opentestsystem.rdw.admin.model.PipelineScript;
import org.opentestsystem.rdw.admin.model.CompilationError;

import java.util.List;

/**
 * Service responsible for managing pipeline scripts
 */
public interface PipelineScriptService {

    /**
     * @param pipelineId The pipeline entity ID
     * @return All scripts for the given pipeline
     */
    List<PipelineScript> get(int pipelineId);

    /**
     * @param pipelineId The pipeline entity ID
     * @param id The script entity ID
     * @return The identified script for the pipeline
     * @throws java.util.NoSuchElementException when there is no script for the given parameters
     */
    PipelineScript get(int pipelineId, int id);

    /**
     * Creates a pipeline script
     *
     * @param script The script to create
     * @return The created script
     */
    PipelineScript create(PipelineScript script);

    /**
     * Updates a pipeline script
     *
     * @param script The script to update
     * @return The updated script
     * @throws java.util.NoSuchElementException when there is no script for the given parameters
     */
    PipelineScript update(PipelineScript script);

    /**
     * Compiles a pipeline script
     *
     * @param scriptBody The script to compile
     * @return List of compilation errors if any
     */
    List<CompilationError> compile(String scriptBody);
}
