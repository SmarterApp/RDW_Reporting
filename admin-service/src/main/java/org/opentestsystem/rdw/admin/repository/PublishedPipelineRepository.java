package org.opentestsystem.rdw.admin.repository;

import org.opentestsystem.rdw.admin.model.PublishedPipeline;

import java.util.List;

/**
 * Repository responsible for managing published pipelines
 */
public interface PublishedPipelineRepository {

    /**
     * @param code The pipeline code to filter on
     * @param version The pipeline version to filter on if any
     * @return All published pipelines for the given pipeline code
     */
    List<PublishedPipeline> findAllByCodeAndVersion(String code, Integer version);

    /**
     * Creates a published pipeline artifact
     *
     * @param code The pipeline to publish under
     * @param pipeline The pipeline to publish
     * @return The created pipeline
     */
    PublishedPipeline create(PublishedPipeline pipeline);

}
