package org.opentestsystem.rdw.admin.model;

import java.util.LinkedHashMap;
import java.util.Map;
import org.opentestsystem.rdw.multitenant.Tenant;

/**
 * This contains tenant specific configuration, tenant, properties and localization for a tenant.
 * These generally override the default
 */
public class TenantConfiguration {

    private Tenant tenant;
    private ApplicationTenantConfiguration applicationTenantConfiguration;
    private Map<String, String> localization = new LinkedHashMap<>();

    public TenantConfiguration() { }

    public Tenant getTenant() {
        return tenant;
    }

    public void setTenant(Tenant  tenant) {
        this.tenant = tenant;
    }

    public ApplicationTenantConfiguration getApplicationTenantConfiguration() {
        return applicationTenantConfiguration;
    }

    public void setApplicationTenantConfiguration(ApplicationTenantConfiguration applicationTenantConfiguration) {
        this.applicationTenantConfiguration = applicationTenantConfiguration;
    }

    public Map<String, String> getLocalization() {
        return localization;
    }

    public void setLocalization(Map<String, String> localization) {
        this.localization = localization;
    }


    // parse out the Json String into service specific properties
    /*  Sample Json expectations
{
   "applicationTenantConfiguration":{
      "datasources":{
         "reporting_ro":{
            "url-server":"rdw-aurora-",
            "username":"sbac",
            "password":"****",
            "initialSize":"1",
            "maxActive":"2"
         },
         "warehouse_rw":{
            "url-server":"rdw-aurora-",
            "username":"sbac",
            "password":"****",
            "initialSize":"1",
            "maxActive":"2"
         },
         "olap_ro":{
            "url-server":"rdw-aurora-",
            "username":"sbac",
            "password":"****",
            "initialSize":"1",
            "maxActive":"2"
         },
         "reporting_rw":{
            "url-server":"rdw-aurora-",
            "username":"sbac",
            "password":"****",
            "initialSize":"1",
            "maxActive":"2"
         }
      },
      "reporting":{
         "school-year":"2018",
         "transfer-access-enabled":"true",
         "translation-location":"binary-",
         "analytics-tracking-id":"UA-102446884-4",
         "interpretive-guide-url":"https://portal.smarterbalanced.org/library/en/reporting-system-interpretive-guide.pdf",
         "user-guide-url":"https://portal.smarterbalanced.org/library/en/reporting-system-user-guide.pdf",
         "access-denied-url":"forward:/assets/public/access-denied.html",
         "landing-page-url":"forward:/landing.html",
         "percentile-display-enabled":"true",
         "report-languages":"es",
         "ui-languages":"es",
         "student-fields":{
            "EconomicDisadvantage":"disabled",
            "LimitedEnglishProficiency":"disabled",
            "MigrantStatus":"enabled",
            "EnglishLanguageAcquisitionStatus":"enabled",
            "PrimaryLanguage":"enabled",
            "Ethnicity":"enabled",
            "Gender":"admin",
            "IndividualEducationPlan":"admin",
            "Section504":"admin"
         },
         "state":{
            "code":"CA",
            "name":"California"
         }
      },
      "archive":{
         "uri-root":"s3://default-archive",
         "path-prefix":"default-prefix",
         "s3-access-key":"default_access_key",
         "s3-secret-key":"default_secret_key",
         "s3-region-static":"us-west-2",
         "s3-sse":"default"
      },
      "aggregator":{
         "assessment-types":[
            "ica",
            "sum",
            "iab"
         ],
         "statewide-user-assessment-types":["sum"],
         "state-aggregate-assessment-types":["sum"]
      }
   },
   "tenants":[
      {
         "tenant":{
            "id":"CA",
            "key":"CA",
            "name":"California",
            "description":"This is a description"
         },
         "applicationTenantConfiguration":{
            "datasources":{
               "reporting_ro":{
                  "initialSize":"1",
                  "maxActive":"2"
               },
               "warehouse_rw":{
                  "initialSize":"1",
                  "maxActive":"2"
               },
               "olap_ro":{
                  "initialSize":"1",
                  "maxActive":"2"
               },
               "reporting_rw":{
                  "initialSize":"1",
                  "maxActive":"2"
               }
            },
            "reporting":{
               "percentile-display-enabled":"false",
               "student-fields":{
                  "EconomicDisadvantage":"enabled"
               },
               "state":{
                  "code":"CA",
                  "name":"California"
               }
            },
            "archive":{
               "uri-root":"s3://ca-archive",
               "path-prefix":"ca",
               "s3-access-key":"ca_access_key",
               "s3-secret-key":"ca_secret_key",
               "s3-sse":"ca"
            },
            "aggregator":{
               "statewide-user-assessment-types":["iab"],
               "state-aggregate-assessment-types":["sum"]
            }
         },
         "localizationProperties":{
            "common.ethnicity.HispanicOrLatinoEthnicity":"Hispanic or Latino",
            "common.ethnicity.Asian":"Asian",
            "common.ethnicity.BlackOrAfricanAmerican":"Black or African American",
            "common.ethnicity.AmericanIndianOrAlaskaNative":"American Indian or Alaska Native",
            "common.ethnicity.White":"White",
            "common.ethnicity.NativeHawaiianOrOtherPacificIslander":"Native Hawaiian or Other Pacific Islander",
            "common.ethnicity.DemographicRaceTwoOrMoreRaces":"Two or More Races",
            "gender.Male":"Male",
            "gender.Female":"Female",
            "gender.Nonbinary":"Neutral"
         }
      }
   ]
}
*/
}
