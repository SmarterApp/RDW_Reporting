package org.opentestsystem.rdw.admin.model;

import org.opentestsystem.rdw.reporting.common.model.CodedEntity;

/**
 * Represents an ingest pipeline which can be thought of as an ingest pre-processor.
 * Some examples include the exam and group ingest pre-processor pipelines.
 */
public class Pipeline extends CodedEntity {

    private String inputType;

    public String getInputType() {
        return inputType;
    }

    public static Builder builder() {
        return new Builder();
    }

    public Builder copy() {
        return builder().copy(this);
    }

    public static class Builder extends CodedEntity.Builder<Pipeline, Builder> {

        private String inputType;

        public Builder inputType(final String inputType) {
            this.inputType = inputType;
            return this;
        }

        public Builder copy(final Pipeline pipeline) {
            return id(pipeline.getId())
                    .code(pipeline.getCode())
                    .inputType(pipeline.getInputType());
        }

        @Override
        public Pipeline build() {
            final Pipeline pipeline = new Pipeline();
            return build(pipeline);
        }

    }
}
