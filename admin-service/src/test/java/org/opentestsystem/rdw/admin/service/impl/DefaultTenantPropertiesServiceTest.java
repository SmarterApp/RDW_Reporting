package org.opentestsystem.rdw.admin.service.impl;

import org.junit.Ignore;
import org.junit.Test;
import org.opentestsystem.rdw.reporting.common.configuration.ReportingSystemSettings;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Service;
import org.springframework.web.client.RestTemplate;

import static org.assertj.core.api.Assertions.assertThat;

@Service
public class DefaultTenantPropertiesServiceTest {
    private static final Logger logger = LoggerFactory.getLogger(DefaultTenantPropertiesServiceTest.class);

    //ReportingServiceTenantProperties reportingServiceTenantProperties;
    String uri = "http://localhost:4200/api/settings";
    
    String reportSettings ="{" +
            "\"state\": {}," +
            "\"transferAccessEnabled\": false," +
            "\"studentFields\": {}," +
            "\"analyticsTrackingId\": \"\"," +
            "\"interpretiveGuideUrl\": \"https://portal.smarterbalanced.org/library/en/reporting-system-interpretive-guide.pdf\"," +
            "\"accessDeniedUrl\": \"forward:/assets/public/access-denied.html\"," +
            "\"landingPageUrl\": \"forward:/landing.html\"," +
            "\"irisVendorId\": \"2B3C34BF-064C-462A-93EA-41E9E3EB8333\"," +
            "\"minItemDataYear\": 2016," +
            "\"percentileDisplayEnabled\": false," +
            "\"reportLanguages\": []," +
            "\"schoolYear\": 2019," +
            "\"uiLanguages\": []," +
            "\"userGuideUrl\": \"https://portal.smarterbalanced.org/library/en/reporting-system-user-guide.pdf\"," +
            "\"targetReport\": {}," +
            "\"effectiveReportLanguages\": [" +
            "\"en\"" +
            "]" +
            "}";

    @Ignore
    @Test
    public void shouldSuccessfullyRetrieveReportingSettings() { //throws IOException {

        RestTemplate restTemplate = new RestTemplate();
        ReportingSystemSettings reportingServiceTenantProperties =
                restTemplate.getForObject(uri, ReportingSystemSettings.class);
        assertThat(reportingServiceTenantProperties).isNotNull();
        logger.info("ok! = {}",reportingServiceTenantProperties);

    }
}