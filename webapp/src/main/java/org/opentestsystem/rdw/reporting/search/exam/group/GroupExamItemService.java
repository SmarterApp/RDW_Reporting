package org.opentestsystem.rdw.reporting.search.exam.group;

import org.opentestsystem.rdw.reporting.search.exam.GroupExamItemScores;
import org.opentestsystem.rdw.reporting.security.User;
import org.springframework.security.access.prepost.PreAuthorize;

import javax.validation.constraints.NotNull;

/**
 * Service responsible for managing group exam items
 */
public interface GroupExamItemService {

    /**
     * Gets all the exam item scores and item information for a given assessment
     *
     * @param user the user accessing the information
     * @param assessmentId the assessment ID
     * @param schoolYear the school year the assessment was taken in
     * @return all the exam item scores and item information for a given assessment
     */
    @PreAuthorize("hasAnyAuthority('PERM_PII_READ', 'PERM_GROUP_PII_READ') and #user.getGroupsById().containsKey(#groupId)")
    GroupExamItemScores getGroupExamItemScores(@NotNull User user, long groupId, long assessmentId, long schoolYear);

}
