package org.opentestsystem.rdw.reporting.exam;

import java.sql.ResultSet;
import java.sql.SQLException;

import static org.opentestsystem.rdw.reporting.common.jdbc.QueryUtils.getNullable;

/**
 *  Holds utility methods for mapping SQL query results to {@link ExamItemScore}s.
 */
public class ExamItemScores {

    public static ExamItemScore map(final ResultSet row) throws SQLException {
        return ExamItemScore.builder()
                .examId(row.getLong("exam_id"))
                .itemId(row.getLong("item_id"))
                .points(getNullable(row, row.getInt("score")))
                .position(row.getInt("position"))
                .build();
    }
}
