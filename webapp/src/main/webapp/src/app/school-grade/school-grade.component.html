<ng-container *ngIf="!schoolOptions; else loaded">
  <span class="gray-darker"><i class="fa fa-spinner fa-pulse fa-2x"></i></span>
</ng-container>
<ng-template #loaded>
  <form [formGroup]="formGroup"
        (ngSubmit)="submit()">
    <div class="flex-children">
      <div class="flex-child grow">
        <div class="form-group">
          <label for="search-school-name">
            {{'labels.school-grade.school-name.label' | translate}}
          </label>
          <span [hidden]="!schoolTypeahead.loading"><i class="fa fa-spinner fa-pulse"></i></span>

          <sb-typeahead #schoolTypeahead
                        inputId="search-school-name"
                        [options]="schoolOptions"
                        (selected)="schoolChanged($event)"
                        placeholder="{{'prompt.select' | translate}}"></sb-typeahead>
        </div>
      </div>
      <div class="flex-child">
        <div class="form-group">
          <label for="grade-select">{{'labels.grade' | translate}}</label>
          <select id="rdw-school-grade-select-grade"
                  name="grade"
                  formControlName="grade"
                  id="grade-select"
                  class="form-control">
            <option disabled
                    [ngValue]="undefined">{{'prompt.select' | translate}}</option>
            <option *ngFor="let grade of gradeOptions"
                    [ngValue]="grade">{{'labels.grades.' + grade.code + '.long-name' | translate}}</option>
          </select>
        </div>
      </div>
      <div class="flex-child">
        <div class="form-group">
          <label class="invisible"><br></label>
          <button type="submit"
                  id="rdw-school-grade-submit"
                  [disabled]="!school || !grade"
                  class="btn btn-primary form-control">{{'prompt.search' | translate}}</button>
        </div>
      </div>
    </div>
  </form>
  <div [hidden]="!schoolTypeahead.noResults">
    <span class="small gray-darker">{{'organization-typeahead.no-matches' | translate}}</span>
  </div>
  <div [hidden]="schoolHasGradesWithResults">
    <span class="small gray-darker">{{'labels.school-grade.messages.no-grades-available' | translate}}</span>
  </div>
</ng-template>

