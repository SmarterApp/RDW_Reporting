<h2 class="blue-dark h3 mb-md">
   {{currentSchool.name}}
  <span *ngIf="currentGrade">
    - {{currentGrade.code | gradeDisplay:'long-name'}}
  </span>

  <button class="btn btn-default btn-sm pull-right"
          (click)="exportCsv()">
    <i class="fa fa-bold fa-table"></i>
    <span>{{'labels.export.csv' | translate}}</span>
  </button>
</h2>

<assessments [assessmentExams]="assessmentExams"
             [assessmentProvider]="assessmentProvider"
             [allowFilterBySessions]="false"
             (onExportItemsByPointsEarned)="exportItemsByPointsEarned($event)">
  <!-- School Select -->
  <div class="col-md-4">
    <label>{{'labels.school-grade.results.basic-filters.school' | translate}}</label>
    <!--TODO: type ahead? -->
    <p-dropdown [options]="availableSchools"
                [(ngModel)]="currentSchool"
                (onChange)="schoolSelectChanged()"
                [filter]="true"
                filterBy="label"
                placeholder="{{'prompt.select' | translate}}"
                filterPlaceholder="{{'labels.school-grade.school-name.prompt' | translate}}">
    </p-dropdown>
  </div>
  <!-- Current Grade -->
  <div class="col-md-2">
    <label for="current-grade">{{'labels.school-grade.results.basic-filters.current-grade' | translate}}</label>
    <select
      title="{{ (gradesAreUnavailable ? 'labels.school-grade.messages.no-grades-available': '') | translate}}"
      [disabled]="!availableGrades || availableGrades.length == 0" id="current-grade" [(ngModel)]="currentGrade" (change)="updateRoute('Grade')"
            class="form-control">
      <option *ngFor="let grade of availableGrades" [ngValue]="grade">{{grade.code | gradeDisplay:'long-name' }}</option>
    </select>
  </div>
  <!-- School Year -->
  <div class="col-md-2">
    <label for="school-year">{{'labels.school-grade.results.basic-filters.school-year' | translate}}</label>
    <select id="school-year" [(ngModel)]="currentSchoolYear" (change)="updateRoute('Year')" class="form-control">
      <option *ngFor="let year of filterOptions.schoolYears" [ngValue]="year">{{year | schoolYear}}</option>
    </select>
  </div>

  <!-- spacer for pushing Advanced Filters to the right -->
  <div class="col-md-2">
    <!-- can't do it in the assessments.component because it depends on how many dropdowns there are here -->
  </div>
</assessments>
