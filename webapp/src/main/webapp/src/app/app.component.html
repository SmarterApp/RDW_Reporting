<header>
  <a
    class="sr-only sr-only-focusable"
    href="javascript:void(0)"
    (click)="scrollToMainContent()"
    >{{ 'home.skip-link' | translate }}</a
  >
  <div *ngIf="(user$ | async) as user" class="container">
    <div class="well">
      <div class="well-body">
        <nav class="navbar navbar-default">
          <div class="navbar-header">
            <button
              (click)="toggleNavCollapse()"
              type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              data-target="#navigation-bar-collapse"
              aria-controls="#navigation-bar-collapse"
              aria-expanded="false"
            >
              <span class="sr-only">{{
                'common-ngx.navigation-bar.toggle-sr' | translate
              }}</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <ng-container *ngIf="user.anonymous; else authenticatedLogo">
              <span class="navbar-brand hidden-xs">
                <img
                  src="assets/image/SmarterBalanced-Logo.png"
                  alt="{{ 'common-ngx.navigation-bar.logo.alt' | translate }}"
                />
              </span>
            </ng-container>
            <ng-template #authenticatedLogo>
              <a
                class="navbar-brand hidden-xs"
                routerLink="/"
                title="{{ 'common-ngx.navigation-bar.logo.title' | translate }}"
                ><img
                  src="assets/image/SmarterBalanced-Logo.png"
                  alt="{{ 'common-ngx.navigation-bar.logo.alt' | translate }}"
              /></a>
            </ng-template>

            <span class="application-title">{{
              'common-ngx.navigation-bar.title' | translate
            }}</span>
          </div>
          <div
            *ngIf="(applicationSettings$ | async) as applicationSettings"
            class="collapse navbar-collapse"
            id="navigation-bar-collapse"
            [ngClass]="{ show: navbarOpen }"
          >
            <ul *ngIf="!user.anonymous" class="nav navbar-nav navbar-right">
              <li class="navbar-link nav-item">
                <a
                  href="{{
                    applicationSettings ? applicationSettings.userGuideUrl : '#'
                  }}"
                  target="_blank"
                >
                  {{ 'common.navigation.user-guide' | translate }}
                </a>
              </li>
              <li class="navbar-link nav-item">
                <a
                  href="{{
                    applicationSettings
                      ? applicationSettings.interpretiveGuideUrl
                      : '#'
                  }}"
                  target="_blank"
                >
                  {{ 'common.navigation.interpretive-guide' | translate }}
                </a>
              </li>
              <li
                class="navbar-link nav-item"
                *hasPermission="'GROUP_PII_READ'"
              >
                <a routerLink="/reports">{{ 'reports.link' | translate }}</a>
              </li>

              <li class="navbar-link  nav-item">
                <div class="btn-group" dropdown>
                  <button
                    type="button"
                    dropdownToggle
                    class="btn btn-link dropdown-toggle"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    <i class="fa fa-user-circle"></i
                    ><span *ngIf="user">
                      {{
                        'common-ngx.navigation-bar.user-dropdown'
                          | translate: user
                      }}</span
                    >
                    <span class="caret"></span>
                  </button>
                  <ul *dropdownMenu class="dropdown-menu mt-md" role="menu">
                    <li role="menuitem">
                      <a
                        class="dropdown-item"
                        href="javascript:void(0)"
                        onclick="window.document.logoutForm.submit()"
                        >{{ 'common-ngx.navigation-bar.logout' | translate }}</a
                      >
                      <form
                        name="logoutForm"
                        method="post"
                        action="{{ user.logoutUrl }}"
                        class="hidden"
                      ></form>
                    </li>
                  </ul>
                </div>
              </li>
              <li *ngIf="languageStore.availableLanguages.length > 1">
                <div>
                  <language-select class="navbar"></language-select>
                </div>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </div>
  </div>
</header>
<sb-breadcrumbs></sb-breadcrumbs>

<div id="maincontent" class="container">
  <router-outlet></router-outlet>
</div>

<sb-footer></sb-footer>

<app-notifications></app-notifications>

<spinner-modal #spinnerModal></spinner-modal>
