<div class="row sandbox-login">
  <div class="col-xs-5 center-block well">
    <h2 class="text-center">{{ 'sandbox-login.title' | translate }}</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div>
        <label for="sandbox" class="control-label">
          {{ 'sandbox-login.labels.sandbox' | translate }}</label
        >
        <select
          id="sandbox"
          name="sandboxKey"
          formControlName="sandboxKey"
          (ngModelChange)="sandboxSelected($event)"
          class="form-control"
        >
          <option [ngValue]="undefined"></option>
          <option *ngFor="let sandbox of sandboxes" [ngValue]="sandbox.key">
            {{ 'sandbox-login.sandbox-label' | translate: sandbox }})
          </option>
        </select>
      </div>
      <div>
        <label for="username" class="control-label">
          {{ 'sandbox-login.labels.username' | translate }}</label
        >
        <input
          id="username"
          name="username"
          type="text"
          formControlName="username"
          class="form-control"
        />
      </div>
      <div>
        <label for="role" class="control-label">
          {{ 'sandbox-login.labels.role' | translate }}</label
        >
        <select
          id="role"
          name="role"
          formControlName="role"
          class="form-control"
        >
          <option [ngValue]="undefined"></option>
          <option *ngFor="let role of roles" [ngValue]="role.id">
            {{
              'sandbox-login.sandbox-role-label.' + role.type
                | translate
                  : {
                      organizationName: role.organization.name,
                      grade:
                        'common.assessment-grade-label.' + role.gradeCode
                        | translate
                    }
            }}
          </option>
        </select>
      </div>
      <button
        type="submit"
        class="btn btn-primary mt-md text-center btn-block"
        [disabled]="form.invalid"
      >
        {{ 'sandbox-login.login' | translate }}
      </button>
    </form>
  </div>
</div>
