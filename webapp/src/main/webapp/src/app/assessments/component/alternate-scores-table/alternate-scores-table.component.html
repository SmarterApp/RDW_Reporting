<!--<p-table [columns]="columns" [value]="rows" [autoLayout]="true">-->
<!--  <ng-template pTemplate="header" let-columns>-->
<!--    <tr>-->
<!--      <th-->
<!--        *ngFor="let column of columns; let index = index"-->
<!--        [pSortableColumn]="column.sortField"-->
<!--        [ngSwitch]="column.id"-->
<!--        [pSortableColumnDisabled]="true"-->
<!--      >-->
<!--        <div *ngSwitchCase="'performanceLevel'">-->
<!--          <br/>-->
<!--          <span class="text-left gray-darkest">-->
<!--            <span class="score font-large">{{ 20 }}</span>-->
<!--            <span class="ml-xs">{{-->
<!--              (false-->
<!--                ? 'average-scale-score.result'-->
<!--                : 'average-scale-score.results') | translate-->
<!--              }}</span>-->
<!--          </span>-->
<!--        </div>-->
<!--        <div *ngSwitchDefault>-->
<!--          <div class="heading">-->
<!--            <score-label-->
<!--              [subjectCode]="_subjectDefinition.subject"-->
<!--              [scoreCode]="column.scoreCode"-->
<!--            ></score-label>-->
<!--          </div>-->
<!--          <scale-score-->
<!--            [score]="column.averageScaleScore"-->
<!--            [standardError]="column.standardError"-->
<!--          ></scale-score>-->
<!--        </div>-->
<!--      </th>-->
<!--    </tr>-->
<!--  </ng-template>-->

<!--  <ng-template pTemplate="body" let-row let-columns="columns">-->
<!--    <tr>-->
<!--      <td-->
<!--        *ngFor="let column of columns"-->
<!--        [ngSwitch]="column.id"-->
<!--        class="{{ column.id }}"-->
<!--      >-->
<!--        <ng-container *ngSwitchCase="'performanceLevel'">-->
<!--          {{-->
<!--          'subject.' +-->
<!--          _subjectDefinition.subject +-->
<!--          '.asmt-type.' +-->
<!--          _subjectDefinition.assessmentType +-->
<!--          '.level.' +-->
<!--          row[column.field] +-->
<!--          '.name' | translate-->
<!--          }}-->
<!--        </ng-container>-->
<!--        <ng-container *ngSwitchDefault>-->
<!--          <aggregate-score-graph-->
<!--            [percent]="row[column.field].percent"-->
<!--            [count]="row[column.field].count"-->
<!--            [color]="-->
<!--              'subject.' +-->
<!--              _subjectDefinition.subject +-->
<!--              '.asmt-type.' +-->
<!--              _subjectDefinition.assessmentType +-->
<!--              '.level.' +-->
<!--              row.performanceLevel +-->
<!--              '.color'-->
<!--              | translate-->
<!--            "-->
<!--            [displayCount]="displayCount"-->
<!--          ></aggregate-score-graph>-->
<!--        </ng-container>-->
<!--      </td>-->
<!--    </tr>-->
<!--  </ng-template>-->
<!--</p-table>-->

<table *ngIf="scoreStatistics.subjectDefinition as subjectDefinition">
  <thead>
    <tr>
      <th>
        <div class="result-count">
          <span class="score font-large">{{
            scoreStatistics.resultCount
          }}</span>
          <span class="ml-xs">{{
            (scoreStatistics.resultCount === 1
              ? 'average-scale-score.result'
              : 'average-scale-score.results') | translate
          }}</span>
        </div>
      </th>
      <th *ngFor="let group of scoreStatistics.groups">
        <div class="heading">
          <score-label
            [subjectCode]="subjectDefinition.subject"
            [scoreCode]="group.code"
          ></score-label>
        </div>
        <scale-score
          [score]="group.averageScaleScore"
          [standardError]="group.standardError"
        ></scale-score>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="
        let performanceLevel of _orderedPerformanceLevels;
        let performanceLevelIndex = index
      "
    >
      <td>
        {{
          'subject.' +
            scoreStatistics.subjectDefinition.subject +
            '.asmt-type.' +
            scoreStatistics.subjectDefinition.assessmentType +
            '.level.' +
            performanceLevel +
            '.name' | translate
        }}
      </td>
      <td *ngFor="let group of scoreStatistics.groups; let groupIndex = index">
        <ng-container
          *ngIf="group.performanceLevelScores[performanceLevelIndex] as score"
        >
          <aggregate-score-graph
            [percent]="score.percent"
            [count]="score.count"
            [color]="
              'subject.' +
                subjectDefinition.subject +
                '.asmt-type.' +
                subjectDefinition.assessmentType +
                '.level.' +
                performanceLevel +
                '.color' | translate
            "
            [displayCount]="displayCount"
          ></aggregate-score-graph>
        </ng-container>
      </td>
    </tr>
  </tbody>
</table>
