<p-table [columns]="columns" [value]="rows" [autoLayout]="true">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th
        *ngFor="let column of columns; let index = index"
        [pSortableColumn]="column.sortField"
        [ngSwitch]="column.id"
        [pSortableColumnDisabled]="true"
      >
        <div *ngSwitchCase="'performanceLevel'">
          {{
            'alternate-scores-table.column.' + column.id + '.heading'
              | translate
          }}
        </div>
        <div *ngSwitchDefault>
          <score-label
            [subjectCode]="_subjectDefinition.subject"
            [scoreCode]="column.scoreCode"
          ></score-label>
          <br />
          <scale-score [score]="2200" [standardError]="15"></scale-score>
        </div>
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row let-columns="columns">
    <tr>
      <td
        *ngFor="let column of columns"
        [ngSwitch]="column.id"
        class="{{ column.id }}"
      >
        <ng-container *ngSwitchCase="'performanceLevel'">
          {{
            'subject.' +
              _subjectDefinition.subject +
              '.asmt-type.' +
              _subjectDefinition.assessmentType +
              '.level.' +
              row[column.field] +
              '.name' | translate
          }}
        </ng-container>
        <ng-container *ngSwitchDefault>
          <aggregate-score-graph
            [percent]="row[column.field].percent"
            [count]="row[column.field].count"
            [color]="
              'subject.' +
                _subjectDefinition.subject +
                '.asmt-type.' +
                _subjectDefinition.assessmentType +
                '.level.' +
                row.performanceLevel +
                '.color' | translate
            "
            [displayCount]="displayCount"
          ></aggregate-score-graph>
        </ng-container>
      </td>
    </tr>
  </ng-template>
</p-table>
