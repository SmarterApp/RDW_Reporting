<div class="key-value-display" *ngIf="subjectDefinition">
  <ng-container [ngSwitch]="scoreType">
    <ng-container *ngSwitchCase="'Overall'">
      <overall-score-summary
        [assessmentId]="assessmentExam.assessment.id"
        [assessmentProvider]="assessmentProvider"
        [subjectDefinition]="subjectDefinition"
        [statistics]="statistics"
        [showCount]="!showValuesAsPercent"
      ></overall-score-summary>
    </ng-container>
    <ng-container *ngSwitchCase="'Claim'">
      <div class="row">
        <div class="col-md-12">
          <strong
            info-button
            title="{{
              'average-scale-score.student-claim-distribution' | translate
            }}"
            content="{{ 'common.info.claim' | translate }}"
          ></strong>
          <div class="ui-table-wrapper">
            <table
              *ngFor="let index of claimReferenceRows"
              class="table table-striped table-hover student-claim-distribution"
              [ngClass]="getClaimColumnCountClass(index)"
            >
              <thead class="ui-table-thead">
                <tr>
                  <th *ngFor="let claimReference of getLatestClaimReferences()">
                    <i
                      class="fa {{
                        'subject.' +
                          assessment.subject +
                          '.claim.' +
                          claimReference.code +
                          '.icon' | translate
                      }}"
                    ></i>
                    {{
                      'subject.' +
                        assessment.subject +
                        '.claim.' +
                        claimReference.code +
                        '.name' | translate
                    }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td
                    *ngFor="let claimReference of getLatestClaimReferences()"
                    class="claim-distribution"
                  >
                    <div class="assessment-aggregate">
                      <div class="scale-score-graph rounded blend-middle mb-sm">
                        <div class="bar-container">
                          <ng-container *ngIf="claimReference.stats">
                            <ng-container
                              *ngFor="
                                let percent of claimReference.stats.percents;
                                let i = index
                              "
                            >
                              <div
                                *ngIf="percent.value != 0"
                                class="bar"
                                [ngClass]="
                                  'subject.' +
                                    assessment.subject +
                                    '.asmt-type.' +
                                    assessment.type +
                                    '.claim-score.level.' +
                                    (i + 1) +
                                    '.color' | translate
                                "
                                [attr.data-width]="
                                  getClaimDataWidth(claimReference.dataIndex, i)
                                "
                              ></div>
                            </ng-container>
                          </ng-container>
                        </div>
                      </div>

                      <ng-container *ngIf="claimReference.stats">
                        <div
                          class="perc-container row"
                          *ngFor="let row of claimLevelRows"
                        >
                          <div class="col-xs-4" *ngFor="let i of row">
                            <div class="bar">
                              <span
                                class="square"
                                [ngClass]="
                                  'subject.' +
                                    assessment.subject +
                                    '.asmt-type.' +
                                    assessment.type +
                                    '.claim-score.level.' +
                                    (i + 1) +
                                    '.color' | translate
                                "
                              ></span>
                              {{ getClaimValue(claimReference.stats, i)
                              }}{{ getClaimSuffix(claimReference.stats, i) }}
                              <span class="sr-only">{{
                                'subject.' +
                                  assessment.subject +
                                  '.asmt-type.' +
                                  assessment.type +
                                  '.claim-score.level.' +
                                  (i + 1) +
                                  '.name' | translate
                              }}</span>
                            </div>
                            <div class="bar description mt-xs">
                              {{
                                'subject.' +
                                  assessment.subject +
                                  '.asmt-type.' +
                                  assessment.type +
                                  '.claim-score.level.' +
                                  (i + 1) +
                                  '.name' | translate
                              }}
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngSwitchCase="'Alternate'">
      <score-table
        [subjectDefinition]="subjectDefinition"
        [displayCount]="!showValuesAsPercent"
      ></score-table>
    </ng-container>
  </ng-container>
</div>
