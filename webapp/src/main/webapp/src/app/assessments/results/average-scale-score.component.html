<!-- IAB display -->
<div *ngIf="(showIab || showIcaSummative) && hasAverageScore" class="row">
  <div class="col-md-5">
    <div class="average-scale-score-display">
      <strong>{{ 'labels.assessments.average.title' | translate }}</strong>
      <table class="table overflow">
        <tr>
          <td class="col-md-6 gray-light-bg text-center">
            <span info-label
                  title="{{ 'labels.assessments.average.scale-score' | translate }}"
                  content="{{ 'labels.assessments.average.scale-score-info' | translate }}"></span>
          </td>
          <td class="level-down">
            <span class="scale-score">
              <span class="score label gray-darker">{{ statistics.average | number:'1.0-0' | removeComma }}</span>
              <span class="error-band">Â± {{ statistics.standardError | number:'1.0-0' }}</span>
            </span>
            <span class="label-group">
              <span>{{ statistics.total }}</span>
              <span>{{ 'labels.assessments.students' | translate }}</span>
            </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <div class="col-md-7" *ngIf="showIab">
    <div class="scale-score-graph rounded blend-middle">
      <strong>{{ 'labels.assessments.student-score-distribution.title' | translate }}</strong>
      <table class="table">
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[0].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[0].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[0].value | number:'1.0-0' }}{{performanceLevels[0].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[0].value != 0" class="bar blue-dark"
                   [attr.data-width]="floor(performanceLevels[0].value)"></div>
              <div *ngIf="performanceLevels[0].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[0].value)">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[1].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[1].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[1].value | number:'1.0-0' }}{{performanceLevels[1].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[1].value != 0" class="bar blue-dark aqua"
                   [attr.data-width]="floor(performanceLevels[1].value)"></div>
              <div *ngIf="performanceLevels[1].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[1].value)">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[2].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[2].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[2].value | number:'1.0-0' }}{{performanceLevels[2].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[2].value != 0" class="bar aqua"
                   [attr.data-width]="floor(performanceLevels[2].value)"></div>
              <div *ngIf="performanceLevels[2].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[2].value)">
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <!-- ICA display -->
  <div class="col-md-7" *ngIf="showIcaSummative">
    <div class="scale-score-graph">
      <strong>{{ 'labels.assessments.student-score-distribution.title' | translate }}</strong>
      <table class="table">
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[0].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[0].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[0].value | number:'1.0-0' }}{{performanceLevels[0].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[0].value != 0" class="bar maroon"
                   [attr.data-width]="floor(performanceLevels[0].value)"></div>
              <div *ngIf="performanceLevels[0].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[0].value)">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[1].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[1].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[1].value | number:'1.0-0' }}{{performanceLevels[1].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[1].value != 0" class="bar gray-darkest"
                   [attr.data-width]="floor(performanceLevels[1].value)"></div>
              <div *ngIf="performanceLevels[1].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[1].value)">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[2].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[2].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[2].value | number:'1.0-0' }}{{performanceLevels[2].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[2].value != 0" class="bar green-dark"
                   [attr.data-width]="floor(performanceLevels[2].value)"></div>
              <div *ngIf="performanceLevels[2].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[2].value)">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="col-md-5">
            <span class="pull-right">
              {{ examLevelEnum + performanceLevels[3].id.toString() | translate }}
              <span book-label title="{{ examLevelEnum + performanceLevels[3].id.toString() | translate }}" content="links"></span>
            </span>
          </td>
          <td class="col-md-1 level-down">
            <span class="pull-right">
              {{ performanceLevels[3].value | number:'1.0-0' }}{{performanceLevels[3].suffix }}
            </span>
          </td>
          <td class="level-down">
            <div class="bar-container">
              <div *ngIf="performanceLevels[3].value != 0" class="bar blue-dark"
                   [attr.data-width]="floor(performanceLevels[3].value)"></div>
              <div *ngIf="performanceLevels[3].value < 100" class="bar gray"
                   [attr.data-width]="100 - floor(performanceLevels[3].value)">
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
