package org.opentestsystem.rdw.reporting.processor.requesthandler;

import org.opentestsystem.rdw.reporting.common.report.AbstractExamReportRequest;
import org.opentestsystem.rdw.reporting.common.security.PermissionScope;

import java.util.Collection;

/**
 * Implementations of this interface are responsible for fetching the collection
 * of student ids that should be included in the requested report.
 */
public interface StudentIdFetcher {

    /**
     * True if this fetcher instance is capable of handling the given report request.
     *
     * @param reportRequest A report request
     * @return True if able to handle the report request
     */
    boolean accept(AbstractExamReportRequest reportRequest);

    /**
     * Retrieve the collection of student ids that should be included in the
     * requested report.
     *
     * @param reportRequest     The report request
     * @param permissionScope   The request permission scope
     * @return  The collection of student ids that should be included in the report
     */
    Collection<Long> fetchStudentIds(AbstractExamReportRequest reportRequest,
                                     PermissionScope permissionScope);
}
