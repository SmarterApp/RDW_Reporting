<breadcrumbs [values]="context.breadcrumbs"></breadcrumbs>

<div class="group-exams-view">
  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <h2>{{group.name}}</h2>

        <div class="form-inline">
          <div class="form-group" *ngIf="group.sortedAcademicYears.length > 1">
            <label for="academic-year-filter" class="sr-only">{{'labels.assessment.academicYear' | translate}}</label>
            <select id="academic-year-filter" class="form-control">
              <option>{{'labels.assessment.academicYear' | translate}}</option>
              <option *ngFor="let year of group.sortedAcademicYears">{{year}}</option>
            </select>
          </div>
          <div class="form-group" *ngIf="group.sortedAssessmentTypes.length > 1">
            <label for="assessment-type-filter" class="sr-only">{{'labels.assessment.type' | translate}}</label>
            <select id="assessment-type-filter" class="form-control">
              <option>{{'labels.assessment.type' | translate}}</option>
              <option *ngFor="let type of group.sortedAssessmentTypes">{{type}}</option>
            </select>
          </div>
        </div>

        <div class="card group-exams-card">
          <div class="table-wrapper">
            <table *ngIf="group.exams.length" class="table table-striped">
              <thead>
                <tr>
                  <th><input type="checkbox"/></th>
                  <th>{{'labels.exam.date' | translate}}</th>
                  <th class="text-center">{{'labels.exam.session' | translate}}</th>
                  <th class="text-center">{{'labels.group.size' | translate}}</th>
                  <th>{{'labels.assessment.name' | translate}}</th>
                  <th class="text-center">{{'labels.assessment.academicYear' | translate}}</th>
                  <th>{{'labels.assessment.subject' | translate}}</th>
                  <th class="text-center">{{'labels.exam.performanceCategory.below' | translate}}</th>
                  <th class="text-center">{{'labels.exam.performanceCategory.near' | translate}}</th>
                  <th class="text-center">{{'labels.exam.performanceCategory.above' | translate}}</th>
                  <th class="text-center">{{'labels.exam.score' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let exam of group.exams" class="assessment-type-{{exam.assessment.type}}">
                  <td><input type="checkbox"/></td>
                  <td>{{exam.date | date:'dd-MMM-yy'}}</td>
                  <td class="text-center">{{exam.session}}</td>
                  <td class="text-center">{{exam.aggregate.students}}</td>
                  <td>
                    <a routerLink="/groups/{{group.id}}/exams/{{exam.id}}/items">
                      {{'labels.assessment.grade' | translate}}
                      {{exam.assessment.grade}}
                      {{'assessment.types.' + exam.assessment.type + '.shortName' | translate}}
                      {{exam.assessment.name}}
                    </a>
                  </td>
                  <td class="text-center">{{exam.assessment.academicYear}} - {{(exam.assessment.academicYear + 1).toString().substr(-2)}}</td>
                  <td>{{'assessment.subjects.' + exam.assessment.subject + '.shortName' | translate}}</td>
                  <td class="text-center">{{exam.aggregate.below}}%</td>
                  <td class="text-center">{{exam.aggregate.near}}%</td>
                  <td class="text-center">{{exam.aggregate.above}}%</td>
                  <td class="text-center"><span class="badge performance-level-{{exam.aggregate.averagePerformance}}">{{exam.score}}</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <p *ngIf="!group.exams.length">
            {{'messages.noExams' | translate}}
          </p>
        </div>

        <tabset>
          <tab heading="{{'labels.aggregate.selectedAssessments' | translate}}">
            <div class="combined-selected-assessments">
            <table class="table">
              <thead>
                <tr>
                  <th class="text-center">{{'labels.aggregate.totalStudents' | translate}}</th>
                  <th class="text-center">{{'labels.aggregate.averageScaleScore' | translate}}</th>
                  <th class="text-center">{{'labels.aggregate.percentOfStandard' | translate}}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center total-students">27</td>
                  <td class="text-center average-scale-score">2393</td>
                  <td class="text-center"></td>
                </tr>
              </tbody>
            </table>
            </div>
          </tab>
          <tab heading="{{'labels.aggregate.itemsByPointsEarned' | translate}}">

          </tab>
          <tab heading="{{'labels.aggregate.selectedRecords' | translate}}">

          </tab>
        </tabset>

      </div>
    </div>
  </div>
</div>
