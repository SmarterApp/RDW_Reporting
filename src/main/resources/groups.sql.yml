group:
  getGroupSummaries:
      sql: >
        select
          reporting.roster.id as id,
          reporting.roster.name as name,
          count(*) as size
        from reporting.student
        join reporting.roster_membership on reporting.student.id=reporting.roster_membership.student_id
        join reporting.roster on reporting.roster_membership.roster_id=reporting.roster.id
        where reporting.roster.id in (select roster_id from reporting.user_roster where user_login=:user_login)
        group by (reporting.roster.id)

  getGroup:
      sql: >
        select
          reporting.student.id as id,
          reporting.student.ssid as ssid,
          reporting.student.first_name as first_name,
          reporting.student.last_or_surname as last_or_surname,
          reporting.roster.id as group_id,
          reporting.roster.name as group_name
        from reporting.student
        join reporting.roster_membership on reporting.student.id=reporting.roster_membership.student_id
        join reporting.roster on reporting.roster_membership.roster_id=reporting.roster.id
        where reporting.roster.id in (select roster_id from reporting.user_roster where roster_id=:id and user_login=:user_login)