package org.opentestsystem.rdw.reporting.model;

import java.util.ArrayList;
import java.util.List;

public class ExamItemScoringGuide {
    private AnswerKey answerKey;
    private List<ScoringCriterion> rubrics;
    private List<ScoringCriterion> exemplars;

    public AnswerKey getAnswerKey() {
        return answerKey;
    }

    public List<ScoringCriterion> getRubrics() {
        return rubrics;
    }

    public List<ScoringCriterion> getExemplars() {
        return exemplars;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder {
        private AnswerKey answerKey;
        private List<ScoringCriterion> rubrics;
        private List<ScoringCriterion> exemplars;

        public Builder exemplars(List<ScoringCriterion> exemplars) {
            this.exemplars = new ArrayList(exemplars);
            return this;
        }

        public Builder rubrics(List<ScoringCriterion> rubrics) {
            this.rubrics = new ArrayList(rubrics);
            return this;
        }

        public Builder answerKey(AnswerKey answerKey) {
            if (answerKey == null) {
                this.answerKey = null;
                return this;
            }

            this.answerKey = AnswerKey
                    .builder()
                    .copy(answerKey)
                    .build();

            return this;
        }

        public ExamItemScoringGuide build() {
            ExamItemScoringGuide solution = new ExamItemScoringGuide();

            solution.answerKey = this.answerKey;
            solution.rubrics = this.rubrics;
            solution.exemplars = this.exemplars;

            return solution;
        }
    }
}
