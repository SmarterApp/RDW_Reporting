package org.opentestsystem.rdw.reporting.repository.impl;

import com.google.common.collect.Sets;
import java.util.Locale;
import java.util.Set;
import java.util.stream.Collectors;
import javax.validation.constraints.NotNull;
import org.opentestsystem.rdw.reporting.model.Translation;
import org.opentestsystem.rdw.reporting.repository.TranslationRepository;
import org.springframework.stereotype.Repository;

import static com.google.common.base.Preconditions.checkNotNull;

@Repository
public class TranslationRepositoryStub implements TranslationRepository {

    private final Set<Translation> stubTranslations = Sets.newHashSet(
            Translation.builder().withCode("HELLO").withLocale(Locale.ENGLISH).withMessage("Hello World").build(),
            Translation.builder().withCode("HELLO").withLocale(Locale.JAPANESE).withMessage("こんにちは世界").build(),
            Translation.builder().withCode("examreport.title").withLocale(Locale.ENGLISH).withMessage("Exam Report").build(),
            Translation.builder().withCode("examreport.title").withLocale(Locale.JAPANESE).withMessage("こんにちは世界").build()
    );

    public Set<Translation> getTranslations() {
        return stubTranslations;
    }

    public Set<Translation> getTranslationsForLocale(@NotNull Locale locale) {
        checkNotNull(locale, "Argument \"locale\" must not be null");
        return stubTranslations.stream()
                .filter(translation -> locale.equals(translation.getLocale()))
                .collect(Collectors.toSet());
    }

}
