package org.opentestsystem.rdw.reporting.common.multitenant;

import org.opentestsystem.rdw.multitenant.storage.TenantPathDefaultResolver;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

/**
 * Strategy pattern to find the current tenant storage Path.  The goal being to abstract implementation
 * variations away such as SecurityContext or TenantContextHolder
 */
@Service
public class TenantPathService {
    private TenantPathDefaultResolver tenantPathResolver;

    @Autowired
    TenantPathService(TenantPathDefaultResolver tenantPathResolver) {
        this.tenantPathResolver = tenantPathResolver;
    }

    public TenantPathDefaultResolver getTenantPathResolver() {
        return tenantPathResolver;
    }
    public String getPrefix() {
        return tenantPathResolver.getTenantPathOverride().getPrefix();
    }

    public String getRoot() {
        return tenantPathResolver.getTenantPathOverride().getRoot();
    }
}
