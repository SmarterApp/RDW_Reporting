package org.opentestsystem.rdw.reporting.common.model;

import static com.google.common.base.Preconditions.checkArgument;

/**
 * Represents either a teacher group or an admin created user group id
 */
public class UserGroupId {
    private long id;
    private UserGroupType type;

    /**
     * Default constructor for serialization
     */
    private UserGroupId() {
    }

    /**
     * Constructor for serialization backwards compatibility, assumes type is Admin
     *
     * @param id admin group id
     */
    private UserGroupId(final long id) {
        this(id, null);
    }

    /**
     * Constructor
     *
     * @param groupId     an admin created groups id
     * @param userGroupId a user created group id
     */
    public UserGroupId(final Long groupId, final Long userGroupId) {
        checkArgument((groupId != null || userGroupId != null) && (groupId != userGroupId), "one and only one group id must be not null");
        this.id = groupId == null ? userGroupId : groupId;
        this.type = groupId == null ? UserGroupType.Teacher : UserGroupType.Admin;
    }

    public UserGroupType getType() {
        return type;
    }

    public long getId() {
        return id;
    }
}