package org.opentestsystem.rdw.reporting.common.model;

import java.util.List;

import static org.opentestsystem.rdw.reporting.common.util.CollectionUtils.safeImmutableOf;

public class ImmutableSearchFilter<ID, V> implements SearchFilter<ID, V> {

    private ID id;
    private List<V> values;

    @Override
    public ID getId() {
        return id;
    }

    @Override
    public List<V> getValues() {
        return values;
    }

    public static <ID, V> Builder<ID, V> builder() {
        return new Builder<>();
    }

    public static class Builder<ID, V> {
        private ID id;
        private List<V> values;

        public Builder<ID, V> id(final ID id) {
            this.id = id;
            return this;
        }

        public Builder<ID, V> values(final List<V> values) {
            this.values = safeImmutableOf(values);
            return this;
        }

        public ImmutableSearchFilter<ID, V> build() {
            final ImmutableSearchFilter<ID, V> filter = new ImmutableSearchFilter<>();
            filter.id = id;
            filter.values = values;
            return filter;
        }

    }
}
