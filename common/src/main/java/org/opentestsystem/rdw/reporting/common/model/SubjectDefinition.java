package org.opentestsystem.rdw.reporting.common.model;

import com.google.common.collect.ImmutableList;

import java.util.List;

/**
 * This model represents a subject's properties within the scope of an Assessment Type.
 */
public class SubjectDefinition {
    private String asmtTypeCode;
    private String subjectCode;
    private int performanceLevelCount;
    private Integer performanceLevelStandardCutoff;
    private Integer claimScorePerformanceLevelCount;
    private Integer altScorePerformanceLevelCount;
    private boolean targetReport;
    private boolean printedReport;

    // TODO enhance with data_order and display_order data - not just codes in display order
    private List<String> scorableClaims;
    private List<String> altScores;

    public String getAsmtTypeCode() {
        return asmtTypeCode;
    }

    public String getSubjectCode() {
        return subjectCode;
    }

    public int getPerformanceLevelCount() {
        return performanceLevelCount;
    }

    public Integer getPerformanceLevelStandardCutoff() {
        return performanceLevelStandardCutoff;
    }

    public Integer getClaimScorePerformanceLevelCount() {
        return claimScorePerformanceLevelCount;
    }

    public Integer getAltScorePerformanceLevelCount() {
        return altScorePerformanceLevelCount;
    }

    public boolean isTargetReport() {
        return targetReport;
    }

    public boolean isPrintedReport() {
        return printedReport;
    }

    public List<String> getScorableClaims() {
        return scorableClaims == null ? ImmutableList.of() : scorableClaims;
    }

    public List<String> getAltScores() {
        return altScores == null ? ImmutableList.of() : altScores;
    }

    public Builder copy() {
        return builder().copy(this);
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder {
        private String asmtTypeCode;
        private String subjectCode;
        private int performanceLevelCount;
        private Integer performanceLevelStandardCutoff;
        private Integer claimScorePerformanceLevelCount;
        private Integer altScorePerformanceLevelCount;
        private boolean targetReport;
        private boolean printedReport;
        private List<String> scorableClaims;
        private List<String> altScores;

        public SubjectDefinition build() {
            final SubjectDefinition definition = new SubjectDefinition();
            definition.asmtTypeCode = asmtTypeCode;
            definition.subjectCode = subjectCode;
            definition.performanceLevelCount = performanceLevelCount;
            definition.performanceLevelStandardCutoff = performanceLevelStandardCutoff;
            definition.claimScorePerformanceLevelCount = claimScorePerformanceLevelCount;
            definition.altScorePerformanceLevelCount = altScorePerformanceLevelCount;
            definition.targetReport = targetReport;
            definition.printedReport = printedReport;
            definition.scorableClaims = scorableClaims;
            definition.altScores = altScores;
            return definition;
        }

        public Builder copy(final SubjectDefinition definition) {
            asmtTypeCode = definition.asmtTypeCode;
            subjectCode = definition.subjectCode;
            performanceLevelCount = definition.performanceLevelCount;
            performanceLevelStandardCutoff = definition.performanceLevelStandardCutoff;
            claimScorePerformanceLevelCount = definition.claimScorePerformanceLevelCount;
            altScorePerformanceLevelCount = definition.altScorePerformanceLevelCount;
            targetReport = definition.targetReport;
            printedReport = definition.printedReport;
            scorableClaims = definition.scorableClaims;
            altScores = definition.altScores;
            return this;
        }

        public Builder asmtTypeCode(final String asmtTypeCode) {
            this.asmtTypeCode = asmtTypeCode;
            return this;
        }

        public Builder subjectCode(final String subjectCode) {
            this.subjectCode = subjectCode;
            return this;
        }

        public Builder performanceLevelCount(final int performanceLevelCount) {
            this.performanceLevelCount = performanceLevelCount;
            return this;
        }

        public Builder performanceLevelStandardCutoff(final Integer performanceLevelStandardCutoff) {
            this.performanceLevelStandardCutoff = performanceLevelStandardCutoff;
            return this;
        }

        public Builder claimScorePerformanceLevelCount(final Integer claimScorePerformanceLevelCount) {
            this.claimScorePerformanceLevelCount = claimScorePerformanceLevelCount;
            return this;
        }

        public Builder altScorePerformanceLevelCount(final Integer altScorePerformanceLevelCount) {
            this.altScorePerformanceLevelCount = altScorePerformanceLevelCount;
            return this;
        }

        public Builder targetReport(final boolean targetReport) {
            this.targetReport = targetReport;
            return this;
        }

        public Builder printedReport(final boolean printedReport) {
            this.printedReport = printedReport;
            return this;
        }

        public Builder scorableClaims(final List<String> scorableClaims) {
            this.scorableClaims = scorableClaims;
            return this;
        }

        public Builder altScores(final List<String> altScores) {
            this.altScores = altScores;
            return this;
        }
    }
}
