package org.opentestsystem.rdw.reporting.common.report;

import org.opentestsystem.rdw.common.model.Subject;

import java.util.Locale;

public abstract class AbstractExamReportRequest<T> {

    protected ExamReportAssessmentType assessmentType;
    protected Subject subject;
    protected int schoolYear;
    protected Locale language;
    protected T options;
    protected String name;
    protected boolean accommodationsVisible;
    protected boolean disableTransferAccess;

    public ExamReportAssessmentType getAssessmentType() {
        return assessmentType;
    }

    public abstract ReportType getReportType();

    public Subject getSubject() {
        return subject;
    }

    public int getSchoolYear() {
        return schoolYear;
    }

    public Locale getLanguage() {
        return language;
    }

    public T getOptions() {
        return options;
    }

    public String getName() {
        return name;
    }

    public boolean isAccommodationsVisible() {
        return accommodationsVisible;
    }

    public boolean isDisableTransferAccess() {
        return disableTransferAccess;
    }

    @SuppressWarnings({"unchecked"})
    public static class Builder<T, A extends AbstractExamReportRequest<T>, B extends Builder<T, A, B>> {

        private ExamReportAssessmentType assessmentType;
        private Subject subject;
        private int schoolYear;
        private Locale language;
        private T options;
        private String name;
        private boolean accommodationsVisible;
        private boolean disableTransferAccess;

        public B assessmentType(final ExamReportAssessmentType assessmentType) {
            this.assessmentType = assessmentType;
            return (B) this;
        }

        public B subject(final Subject subject) {
            this.subject = subject;
            return (B) this;
        }

        public B schoolYear(final int schoolYear) {
            this.schoolYear = schoolYear;
            return (B) this;
        }

        public B language(final Locale language) {
            this.language = language;
            return (B) this;
        }

        public B options(final T options) {
            this.options = options;
            return (B) this;
        }

        public B name(final String name) {
            this.name = name;
            return (B) this;
        }

        public B accommodationsVisible(final boolean accommodationsVisible) {
            this.accommodationsVisible = accommodationsVisible;
            return (B) this;
        }

        public B disableTransferAccess(final boolean disableTransferAccess) {
            this.disableTransferAccess = disableTransferAccess;
            return (B) this;
        }

        protected B copy(final B builder, final A source) {
            return builder
                    .assessmentType(source.assessmentType)
                    .subject(source.subject)
                    .schoolYear(source.schoolYear)
                    .language(source.language)
                    .options(source.options)
                    .name(source.name)
                    .accommodationsVisible(source.accommodationsVisible)
                    .disableTransferAccess(source.disableTransferAccess);
        }

        protected A build(final A search) {
            search.assessmentType = assessmentType;
            search.subject = subject;
            search.schoolYear = schoolYear;
            search.language = language;
            search.options = options;
            search.name = name;
            search.accommodationsVisible = accommodationsVisible;
            search.disableTransferAccess = disableTransferAccess;
            return search;
        }

    }
}
