package org.opentestsystem.rdw.reporting.common.report;

import com.fasterxml.jackson.annotation.JsonTypeInfo;
import org.opentestsystem.rdw.common.model.Subject;

import java.util.Locale;

@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property="@class")
public abstract class AbstractExamReportRequest<T> {

    protected ExamReportAssessmentType assessmentType;
    protected Subject subject;
    protected int schoolYear;
    protected Locale language;
    protected T options;

    public ExamReportAssessmentType getAssessmentType() {
        return assessmentType;
    }

    public Subject getSubject() {
        return subject;
    }

    public int getSchoolYear() {
        return schoolYear;
    }

    public Locale getLanguage() {
        return language;
    }

    public T getOptions() {
        return options;
    }

    @SuppressWarnings({"unchecked"})
    public static class Builder<T, A extends AbstractExamReportRequest<T>, B extends Builder<T, A, B>> {

        private ExamReportAssessmentType assessmentType;
        private Subject subject;
        private int schoolYear;
        private Locale language;
        private T options;

        public B assessmentType(final ExamReportAssessmentType assessmentType) {
            this.assessmentType = assessmentType;
            return (B) this;
        }

        public B subject(final Subject subject) {
            this.subject = subject;
            return (B) this;
        }

        public B schoolYear(final int schoolYear) {
            this.schoolYear = schoolYear;
            return (B) this;
        }

        public B language(final Locale language) {
            this.language = language;
            return (B) this;
        }

        public B options(final T options) {
            this.options = options;
            return (B) this;
        }

        protected A build(final A search) {
            search.assessmentType = assessmentType;
            search.subject = subject;
            search.schoolYear = schoolYear;
            search.language = language;
            search.options = options;
            return search;
        }

    }
}
