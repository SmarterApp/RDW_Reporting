package org.opentestsystem.rdw.reporting.common.repository;

import org.opentestsystem.rdw.reporting.common.model.Organization;
import org.opentestsystem.rdw.reporting.common.model.OrganizationQuery;
import org.opentestsystem.rdw.reporting.common.model.OrganizationType;
import org.opentestsystem.rdw.security.PermissionScope;

import java.util.Collection;

/**
 * Implementations of this interface are responsible for querying for Organizations
 * within the context of a user's permissions.
 */
public interface OrganizationRepository {

    /**
     * Find all organizations for the given type(s).
     *
     * @param permissionScope   A permission scope
     * @param query             The organization query
     * @return All matching organizations (up to the query limit)
     */
    Collection<Organization> findAll(PermissionScope permissionScope, OrganizationQuery query);

    /**
     * Find an organization of the given type by id.
     *
     * @param permissionScope   A permission scope
     * @param type              The organization type
     * @param id                The organization id
     * @return The organization or null
     */
    Organization findOneByTypeAndId(PermissionScope permissionScope, OrganizationType type, int id);
}
