package org.opentestsystem.rdw.reporting.common.model;

/**
 * Base class for all exam reports
 * Declares all additional properties associated with exam reports
 */
public abstract class AbstractExamReportQuery extends AbstractReportQuery {

    private int schoolYear;
    private boolean disableTransferAccess;

    /**
     * @return school year
     */
    public int getSchoolYear() {
        return schoolYear;
    }

    /**
     * @return true if transfer access is disabled
     */
    public boolean isDisableTransferAccess() {
        return disableTransferAccess;
    }

    @SuppressWarnings({"unchecked"})
    public static abstract class Builder<A extends AbstractExamReportQuery, B extends Builder<A, B>> extends AbstractReportQuery.Builder<A, B> {
        private int schoolYear;
        private boolean disableTransferAccess;

        public B schoolYear(final int schoolYear) {
            this.schoolYear = schoolYear;
            return (B) this;
        }

        public B disableTransferAccess(final boolean disableTransferAccess) {
            this.disableTransferAccess = disableTransferAccess;
            return (B) this;
        }

        protected B copy(final AbstractExamReportQuery reportQuery) {
            return super.copy(reportQuery)
                    .schoolYear(reportQuery.schoolYear)
                    .disableTransferAccess(reportQuery.disableTransferAccess);
        }

        protected AbstractExamReportQuery build(final AbstractExamReportQuery reportQuery) {
            super.build(reportQuery);
            reportQuery.schoolYear = schoolYear;
            reportQuery.disableTransferAccess = disableTransferAccess;
            return reportQuery;
        }
    }
}
