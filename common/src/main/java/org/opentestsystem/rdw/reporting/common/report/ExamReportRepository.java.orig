package org.opentestsystem.rdw.reporting.common.report;

import org.opentestsystem.rdw.reporting.common.security.Permission;

import javax.validation.constraints.NotNull;
<<<<<<< HEAD
import java.util.Collection;
import java.util.Map;

public interface ExamReportRepository<T extends AbstractExamReport> {

    /**
     * Find an exam by student id, school year, and subject.
     * TODO Switch this to an implementation similar to multi-student reports.
     *
     * @param permissionScope   The user permission scope
     * @param studentId         The student id
     * @param schoolYear        The school year
     * @param subjectId         The subject id
     * @return The exam
     */
    T findOneByStudentIdAndSchoolYear(@NotNull PermissionScope permissionScope, long studentId, int schoolYear, int subjectId);
=======
import java.util.Map;
import java.util.Set;

public interface ExamReportRepository<T extends AbstractExamReport> {

    T findOneByStudentIdAndSchoolYear(@NotNull Map<String, Permission> permissions,
                                      Set<Long> groupIds,
                                      long studentId,
                                      int schoolYear,
                                      int subjectId);
>>>>>>> parent of b4822ab... Revert "Feature/student group permissions"

    /**
     * Find all exams for students by school id and school year.
     *
     * @param permissionScope   The user permission scope
     * @param studentIds        The student ids
     * @param examQueryParams        The request filter
     * @return  Exams for each student id, mapped by subject
     */
    Map<Long, Map<Subject, T>> findAllForStudentsByExamFilter(@NotNull PermissionScope permissionScope,
                                                              Collection<Long> studentIds,
                                                              ExamQueryParams examQueryParams);
}
