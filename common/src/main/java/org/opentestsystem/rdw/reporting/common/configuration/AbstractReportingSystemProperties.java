package org.opentestsystem.rdw.reporting.common.configuration;


import com.fasterxml.jackson.annotation.JsonFormat;

import java.util.List;

import static com.google.common.collect.Lists.newArrayList;

public abstract class AbstractReportingSystemProperties implements ReportingSystemProperties {

    private static final String DefaultReportLanguageCode = "en";

    @Override
    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)
    public List<String> getEffectiveReportLanguages() {
        final List<String> effectiveLanguages = newArrayList(DefaultReportLanguageCode);
        for (final String language : getReportLanguages()) {
            if (!effectiveLanguages.contains(language)) {
                effectiveLanguages.add(language);
            }
        }
        return effectiveLanguages;
    }

}
