package org.opentestsystem.rdw.reporting.common.model;

/**
 * Base aggregate report row representing an identified collection of measures.
 */
public abstract class AggregateRow {
    private Organization organization;
    private ActiveAssessment assessment;
    private Measures measures;

    public Organization getOrganization() {
        return organization;
    }

    public ActiveAssessment getAssessment() {
        return assessment;
    }

    public Measures getMeasures() {
        return measures;
    }

    public abstract static class Builder<B extends Builder, T extends AggregateRow> {
        private Organization organization;
        private ActiveAssessment assessment;
        private Measures measures;

        protected abstract T createRow();

        public T build() {
            final T reportRow = createRow();
            final AggregateRow aggregateRow = reportRow;
            aggregateRow.organization = organization;
            aggregateRow.assessment = assessment;
            aggregateRow.measures = measures;
            return reportRow;
        }

        public B organization(final Organization organization) {
            this.organization = organization;
            return (B) this;
        }

        public Builder assessment(final ActiveAssessment assessment) {
            this.assessment = assessment;
            return (B) this;
        }

        public Builder measures(final Measures measures) {
            this.measures = measures;
            return (B) this;
        }
    }
}
