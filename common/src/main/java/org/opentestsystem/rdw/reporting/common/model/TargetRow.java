package org.opentestsystem.rdw.reporting.common.model;

/**
 * A row returned as part of the report in response to the {@link TargetReportQuery}
 * <p>
 * {@link AggregateRow#measures} represent the overall average scale score and number of
 * students for the respective organization/assessment/dimension combination
 */
public class TargetRow extends AggregateRow {
    private String claimCode;
    private String targetNaturalId;
    private TargetReportingLevel studentRelativeResidualScoresLevel;
    private TargetReportingLevel standardMetRelativeResidualLevel;
    private int examCount;

    public int getExamCount() {
        return examCount;
    }

    public String getTargetNaturalId() {
        return targetNaturalId;
    }

    public TargetReportingLevel getStandardMetRelativeResidualLevel() {
        return studentRelativeResidualScoresLevel;
    }

    public TargetReportingLevel getStudentRelativeResidualScoresLevel() {
        return standardMetRelativeResidualLevel;
    }

    public String getClaimCode() {
        return claimCode;
    }

    public static Builder builder() {
        return new Builder();
    }

    public Builder copy() {
        return new Builder().copy(this);
    }

    @SuppressWarnings("unchecked")
    public static class Builder extends AggregateRow.Builder<Builder, TargetRow> {

        private String claimCode;
        private String targetNaturalId;
        private TargetReportingLevel studentRelativeResidualScoresLevel;
        private TargetReportingLevel standardMetRelativeResidualLevel;
        private int examCount;

        @Override
        protected TargetRow createRow() {
            return new TargetRow();
        }

        @Override
        public TargetRow build() {
            final TargetRow reportRow = super.build();
            reportRow.claimCode = claimCode;
            reportRow.targetNaturalId = targetNaturalId;
            reportRow.studentRelativeResidualScoresLevel = studentRelativeResidualScoresLevel;
            reportRow.standardMetRelativeResidualLevel = standardMetRelativeResidualLevel;
            reportRow.examCount = examCount;

            return reportRow;
        }

        public Builder copy(final TargetRow that) {
            super.copy(that);
            claimCode = that.getClaimCode();
            targetNaturalId = that.getTargetNaturalId();
            studentRelativeResidualScoresLevel = that.getStudentRelativeResidualScoresLevel();
            standardMetRelativeResidualLevel = that.getStudentRelativeResidualScoresLevel();
            examCount = that.examCount;
            return this;
        }


        public Builder examCount(final int examCount) {
            this.examCount = examCount;
            return this;
        }

        public Builder claimCode(final String claimCode) {
            this.claimCode = claimCode;
            return this;
        }

        public Builder targetNaturalId(final String targetNaturalId) {
            this.targetNaturalId = targetNaturalId;
            return this;
        }

        public Builder studentRelativeResidualScoresLevel(final TargetReportingLevel studentRelativeResidualScoresLevel) {
            this.studentRelativeResidualScoresLevel = studentRelativeResidualScoresLevel;
            return this;
        }

        public Builder standardMetRelativeResidualLevel(final TargetReportingLevel standardMetRelativeResidualLevel) {
            this.standardMetRelativeResidualLevel = standardMetRelativeResidualLevel;
            return this;
        }
    }
}
